{"entries":[{"timestamp":1764390465219,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1232,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":162,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":68,"length1":174,"diffs":[[1,"    \"dependenci        \"device\": \"*\"\n1.0.3\"\n"]]},{"start1":176,"length1":56,"diffs":[[1,"        \"READM        \"assets.json\"\n"]]},{"start1":219,"length1":35,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"water.ts","value":"//% icon=\"\\uf043\" color=\"#1E90FF\" weight=100\n//% groups='[\"Water Animation\", \"Splash Effects\", \"Settings\"]'\nnamespace TileAnimation {\n\n    // -------------------------------\n    // Enums for Water Speed\n    // -------------------------------\n    export enum WaterSpeed {\n        //% block=\"slow\"\n        Slow = 0,\n        //% block=\"medium\"\n        Medium = 1,\n        //% block=\"fast\"\n        Fast = 2\n    }\n\n    // -------------------------------\n    // State variables\n    // -------------------------------\n    let animationEnabled = true\n    let animationRunning = false\n    let animationReversed = false\n    let waterDebugEnabled = false\n    let playerProximityRadius = 0\n    let playerForProximity: Sprite = null\n    let autoSplashPlayer: Sprite = null\n    let waterFrames: Image[] = []\n\n    export type WaterTile = {\n        loc: tiles.Location,\n        speed: number,\n        lastUpdate: number,\n        frame: number\n    }\n\n    let waterTiles: WaterTile[] = []\n\n    // -------------------------------\n    // Set Water Animation Speed\n    // -------------------------------\n    /**\n     * Set the speed of all water tile animations.\n     * @param speed Water animation speed\n     */\n    //% blockId=setWaterAnimationSpeed\n    //% block=\"set water animation speed to %speed\"\n    //% speed.defl=WaterSpeed.Medium\n    //% group=\"Water Animation\"\n    export function setWaterAnimationSpeed(speed: WaterSpeed) {\n        let value = 200\n        if (speed == WaterSpeed.Slow) value = 300\n        else if (speed == WaterSpeed.Medium) value = 200\n        else value = 100\n\n        waterTiles.forEach(wt => wt.speed = value)\n    }\n\n    // -------------------------------\n    // Initialize Water Animation\n    // -------------------------------\n    /**\n     * Initialize water animation on a specific tile using 3 frame images.\n     * @param baseTile Tile image to animate\n     * @param frame1 First frame of animation\n     * @param frame2 Second frame of animation\n     * @param frame3 Third frame of animation\n     */\n    //% blockId=initWaterAnimation\n    //% block=\"animate tile %baseTile with frames %frame1, %frame2, %frame3\"\n    //% group=\"Water Animation\"\n    export function initWaterAnimation(baseTile: Image, frame1: Image, frame2: Image, frame3: Image) {\n        waterTiles = []\n        waterFrames = [frame1, frame2, frame3]\n\n        tiles.getTilesByType(baseTile).forEach(t => {\n            waterTiles.push({\n                loc: t,\n                speed: Math.randomRange(100, 300),\n                lastUpdate: control.millis() + Math.randomRange(0, 200),\n                frame: Math.randomRange(0, 2)\n            })\n        })\n\n        animationRunning = true\n\n        game.onUpdate(function () {\n            if (!animationEnabled) return\n\n            let now = control.millis()\n\n            for (let wt of waterTiles) {\n                if (playerProximityRadius > 0 && playerForProximity) {\n                    let playerTile = tiles.getTileLocation(\n                        Math.floor(playerForProximity.x / 16),\n                        Math.floor(playerForProximity.y / 16)\n                    )\n                    let dx = wt.loc.col - playerTile.col\n                    let dy = wt.loc.row - playerTile.row\n                    if (Math.sqrt(dx * dx + dy * dy) > playerProximityRadius) continue\n                }\n\n                if (now - wt.lastUpdate >= wt.speed) {\n                    wt.frame = animationReversed ? (wt.frame - 1 + 3) % 3 : (wt.frame + 1) % 3\n                    wt.lastUpdate = now\n\n                    tiles.setTileAt(wt.loc, waterFrames[wt.frame])\n\n                    if (waterDebugEnabled) {\n                        let debugTile = image.create(16, 16)\n                        debugTile.fill(5)\n                        tiles.setTileAt(wt.loc, debugTile)\n                    }\n\n                    if (autoSplashPlayer) {\n                        let playerTile = tiles.getTileLocation(\n                            Math.floor(autoSplashPlayer.x / 16),\n                            Math.floor(autoSplashPlayer.y / 16)\n                        )\n                        if (playerTile.col == wt.loc.col && playerTile.row == wt.loc.row) {\n                            splashTile(wt.loc)\n                        }\n                    }\n                }\n            }\n        })\n    }\n\n    // -------------------------------\n    // Run Water Animation\n    // -------------------------------\n    /**\n     * Start or stop the water animation.\n     * @param on true to run, false to stop\n     */\n    //% blockId=runWaterAnimation\n    //% block=\"run water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function runWaterAnimation(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n        else if (waterTiles.length > 0) animationRunning = true\n    }\n\n    // -------------------------------\n    // Check Water Animation Status\n    // -------------------------------\n    /**\n     * Returns true if water animation is currently running.\n     */\n    //% blockId=isWaterAnimationRunning\n    //% block=\"water animation running?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationRunning(): boolean {\n        return animationRunning && animationEnabled\n    }\n\n    /**\n     * Returns true if water animations are enabled.\n     */\n    //% blockId=isWaterAnimationEnabled\n    //% block=\"water animation enabled?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationEnabled(): boolean {\n        return animationEnabled;\n    }\n\n    /**\n     * Returns true if the water animation is active near the player.\n     */\n    //% blockId=isAnimateNearPlayerActive\n    //% block=\"is water animation near player active?\"\n    //% group=\"Water Animation\"\n    export function isAnimateNearPlayerActive(): boolean {\n        return playerProximityRadius > 0 && playerForProximity != null;\n    }\n\n    /**\n     * Returns true if there are any active water tiles.\n     */\n    //% blockId=hasWaterTiles\n    //% block=\"are there water tiles?\"\n    //% group=\"Water Animation\"\n    export function hasWaterTiles(): boolean {\n        return waterTiles.length > 0;\n    }\n\n    /**\n     * Stops and clears all water animations.\n     */\n    //% blockId=clearWaterAnimation\n    //% block=\"clear water animation\"\n    //% group=\"Water Animation\"\n    export function clearWaterAnimation() {\n        waterTiles = []\n        animationRunning = false\n    }\n\n    /**\n     * Enable or disable all water animations.\n     * @param on true to enable, false to disable\n     */\n    //% blockId=setWaterEnabled\n    //% block=\"set water animation enabled %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function setWaterEnabled(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n    }\n\n    // -------------------------------\n    // Splash Functions\n    // -------------------------------\n    /**\n     * Trigger water splash effects when the player moves over water tiles.\n     * @param player The player sprite to trigger the effect.\n     */\n    //% blockId=waterCollisionEffect\n    //% block=\"trigger water collision effect at player %player\"\n    //% group=\"Splash Effects\"\n    export function waterCollisionEffect(player: Sprite) {\n        // Get the current tile location of the player\n        let playerTile = tiles.getTileLocation(Math.floor(player.x / 16), Math.floor(player.y / 16))\n\n        // Array of nearby tiles (adjacent tiles)\n        let nearbyTiles = [\n            tiles.getTileLocation(playerTile.col - 1, playerTile.row),  // Left\n            tiles.getTileLocation(playerTile.col + 1, playerTile.row),  // Right\n            tiles.getTileLocation(playerTile.col, playerTile.row - 1),  // Up\n            tiles.getTileLocation(playerTile.col, playerTile.row + 1)   // Down\n        ]\n\n        // Apply the splash effect to nearby tiles\n        nearbyTiles.forEach(tile => {\n            // Get the tile at the current location\n            let tileImage = tiles.getTileAt(tile.col, tile.row)\n\n            // Check if the tile matches any of the water frames\n            if (waterFrames.some(frame => frame.equals(tileImage))) {\n                // Apply splash effect (change to a different water frame)\n                tiles.setTileAt(tile, waterFrames[1]) // Change to the second frame (splash effect)\n            }\n        })\n\n        // Play splash sound (optional)\n        playSplashSound(\"medium\")\n    }\n\n    // -------------------------------\n    // Sound Effects\n    // -------------------------------\n    /**\n     * Play a splash sound based on the splash size.\n     * @param splashSize Size of the splash (small, medium, or large)\n     */\n    //% blockId=playSplashSound\n    //% block=\"play splash sound of size %splashSize\"\n    //% splashSize.defl=\"medium\"\n    //% group=\"Splash Effects\"\n    export function playSplashSound(splashSize: string) {\n        if (splashSize == \"small\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 200, 200, 255, 500, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else if (splashSize == \"medium\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 300, 300, 255, 700, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 400, 400, 255, 1000, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        }\n    }\n\n    // -------------------------------\n    // Settings\n    // -------------------------------\n    /**\n     * Play the water animation frames in reverse order.\n     * @param on true to reverse\n     */\n    //% blockId=reverseWaterAnimation\n    //% block=\"reverse water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function reverseWaterAnimation(on: boolean) {\n        animationReversed = on\n    }\n\n    /**\n     * Overlay debug colors on water tiles.\n     * @param on true to show debug\n     */\n    //% blockId=toggleWaterDebug\n    //% block=\"show water debug tiles %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function toggleWaterDebug(on: boolean) {\n        waterDebugEnabled = on\n    }\n\n    /**\n     * Temporarily highlight all water tiles with a bright color.\n     */\n    //% blockId=highlightWaterTiles\n    //% block=\"highlight all water tiles\"\n    //% group=\"Settings\"\n    export function highlightWaterTiles() {\n        for (let wt of waterTiles) {\n            let debugTile = image.create(16, 16)\n            debugTile.fill(7)\n            tiles.setTileAt(wt.loc, debugTile)\n        }\n    }\n\n    /**\n     * Only animate water tiles near a specific player sprite.\n     * @param player The player sprite to follow\n     * @param radius Radius around the player\n     */\n    //% blockId=animateNearPlayer\n    //% block=\"animate water near player %player with radius %radius\"\n    //% player.shadow=variables_get\n    //% radius.defl=3\n    //% group=\"Settings\"\n    export function animateNearPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0], radius: number = 3) {\n        playerProximityRadius = radius\n        playerForProximity = player\n    }\n\n    /**\n     * Temporarily play a splash animation at a specific tile.\n     * @param tile Tile location for splash\n     */\n    //% blockId=splashTile\n    //% block=\"play water splash animation at %tile\"\n    //% tile.shadow=tiles_tile\n    //% group=\"Splash Effects\"\n    export function splashTile(tile: tiles.Location = tiles.getTileLocation(0, 0)) {\n        let splash = image.create(16, 16)\n        splash.fill(9)\n        tiles.setTileAt(tile, splash)\n\n        control.runInParallel(() => {\n            pause(200)\n            for (let wt of waterTiles) {\n                if (wt.loc.col == tile.col && wt.loc.row == tile.row) {\n                    tiles.setTileAt(tile, waterFrames[wt.frame])\n                }\n            }\n        })\n    }\n\n    /**\n     * Play a water splash at the player's location.\n     * @param player Player sprite to splash at\n     */\n    //% blockId=splashAtPlayer\n    //% block=\"play water splash at player %player\"\n    //% player.shadow=variables_get\n    //% group=\"Splash Effects\"\n    export function splashAtPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0]) {\n        if (!player) return\n        let tile = tiles.getTileLocation(\n            Math.floor(player.x / 16),\n            Math.floor(player.y / 16)\n        )\n        splashTile(tile)\n    }\n\n    /**\n     * Automatically splash water when the player walks on it.\n     * @param player Player sprite to trigger splash\n     */\n    //% blockId=autoSplashOnPlayer\n    //% block=\"splash water automatically when player %player walks on it\"\n    //% player.shadow=variables_get\n    //% group=\"Splash Effects\"\n    export function autoSplashOnPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0]) {\n        autoSplashPlayer = player\n    }\n}\n"}]},{"timestamp":1764391657461,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":33685,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"pi,kri_~cVjHvTbVzK?F\">item</variable></variables><block type=\"pxt-on-start\" x=\"40\" y=\"57\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></next></block></statement></block><block type=\"autoSplashOnPlayer\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"5\" y=\"221\"><value name=\"player\"><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"pi,kri_~cVjHvTbVzK?F\">item</field></block></value></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":11546,"diffs":[[1,""]]},{"start1":162,"length1":11,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":327,"length1":130,"diffs":[[1,"        \"assets.        \"water.ts\"\n.g.ts\"\n    \"preferredEditor\": \"blocksprj\"\nksprj\"\n"]]}]},{"type":"edited","filename":"water.ts","patch":[{"start1":45,"length1":61,"diffs":[[1,"//% groups='[\"Water Animation\", \"Splash Effects\", \"Settings\"]'\n"]]},{"start1":296,"length1":20,"diffs":[[1,"        Slow = 0,\n"]]},{"start1":341,"length1":22,"diffs":[[1,"        Medium = 1,\n"]]},{"start1":386,"length1":19,"diffs":[[1,"        Fast = 2\n"]]},{"start1":1416,"length1":105,"diffs":[[1,"        let value = 200\n        if (speed == WaterSpeed.Slow) value = 300\n        else if (speed == WaterSpeed.Medium) value = 200\n        else value = 100\n\n        waterTiles.forEach(wt => wt.speed = value)\n"]]},{"start1":2711,"length1":43,"diffs":[[1,"            if (!animationEnabled) return\n"]]},{"start1":2754,"length1":40,"diffs":[[1,"            let now = control.millis()\n"]]},{"start1":2835,"length1":0,"diffs":[[1,"                if (playerProximityRadius > 0 && playerForProximity) {\n                    let playerTile = tiles.getTileLocation(\n                        Math.floor(playerForProximity.x / 16),\n                        Math.floor(playerForProximity.y / 16)\n                    )\n                    let dx = wt.loc.col - playerTile.col\n                    let dy = wt.loc.row - playerTile.row\n                    if (Math.sqrt(dx * dx + dy * dy) > playerProximityRadius) continue\n                }\n\n"]]},{"start1":3388,"length1":137,"diffs":[[1,"                    wt.frame = animationReversed ? (wt.frame - 1 + 3) % 3 : (wt.frame + 1) % 3\n                    wt.lastUpdate = now\n"]]},{"start1":3524,"length1":135,"diffs":[[1,"                    tiles.setTileAt(wt.loc, waterFrames[wt.frame])\n"]]},{"start1":3592,"length1":79,"diffs":[[1,""]]},{"start1":3637,"length1":224,"diffs":[[1,"                        let debugTile = image.create(16, 16)\n                        debugTile.fill(5)\n                        tiles.setTileAt(wt.loc, debugTile)\n"]]},{"start1":3821,"length1":0,"diffs":[[1,"\n                    if (autoSplashPlayer) {\n                        let playerTile = tiles.getTileLocation(\n                            Math.floor(autoSplashPlayer.x / 16),\n                            Math.floor(autoSplashPlayer.y / 16)\n                        )\n                        if (playerTile.col == wt.loc.col && playerTile.row == wt.loc.row) {\n                            splashTile(wt.loc)\n                        }\n                    }\n"]]},{"start1":4304,"length1":12,"diffs":[[1,"        })\n"]]},{"start1":4321,"length1":0,"diffs":[[1,"\n"]]},{"start1":10314,"length1":32,"diffs":[[1,"        waterDebugEnabled = on\n    }\n"]]},{"start1":10352,"length1":749,"diffs":[[1,"    /**\n     * Temporarily highlight all water tiles with a bright color.\n     */\n    //% blockId=highlightWaterTiles\n    //% block=\"highlight all water tiles\"\n    //% group=\"Settings\"\n    export function highlightWaterTiles() {\n        for (let wt of waterTiles) {\n            let debugTile = image.create(16, 16)\n            debugTile.fill(7)\n            tiles.setTileAt(wt.loc, debugTile)\n"]]},{"start1":11321,"length1":0,"diffs":[[1,"\n    /**\n     * Temporarily play a splash animation at a specific tile.\n     * @param tile Tile location for splash\n     */\n    //% blockId=splashTile\n    //% block=\"play water splash animation at %tile\"\n    //% tile.shadow=tiles_tile\n    //% group=\"Splash Effects\"\n    export function splashTile(tile: tiles.Location = tiles.getTileLocation(0, 0)) {\n        let splash = image.create(16, 16)\n        splash.fill(9)\n        tiles.setTileAt(tile, splash)\n\n        control.runInParallel(() => {\n            pause(200)\n            for (let wt of waterTiles) {\n                if (wt.loc.col == tile.col && wt.loc.row == tile.row) {\n                    tiles.setTileAt(tile, waterFrames[wt.frame])\n                }\n            }\n        })\n    }\n\n    /**\n     * Play a water splash at the player's location.\n     * @param player Player sprite to splash at\n     */\n    //% blockId=splashAtPlayer\n    //% block=\"play water splash at player %player\"\n    //% player.shadow=variables_get\n    //% group=\"Splash Effects\"\n    export function splashAtPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0]) {\n        if (!player) return\n        let tile = tiles.getTileLocation(\n            Math.floor(player.x / 16),\n            Math.floor(player.y / 16)\n        )\n        splashTile(tile)\n    }\n\n    /**\n     * Automatically splash water when the player walks on it.\n     * @param player Player sprite to trigger splash\n     */\n    //% blockId=autoSplashOnPlayer\n    //% block=\"splash water automatically when player %player walks on it\"\n    //% player.shadow=variables_get\n    //% group=\"Splash Effects\"\n    export function autoSplashOnPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0]) {\n        autoSplashPlayer = player\n    }\n"]]}]},{"type":"added","filename":"tilemap.g.jres","value":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"tile1\": {\n        \"data\": \"hwQQABAAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile\"\n    },\n    \"tile2\": {\n        \"data\": \"hwQQABAAAACRmZmZkZmZmRmZmZkZmZmZmZGZmZmRmZmZGZmZmRmZmZmZkZmZmRGZmZkZmZmZmZGRmZmRmZmZGRmZmRmZmZmZmZGZmZGZmZmZkZmZGZmZmZkZmZmZkZmZmZmRmZkZmZmZmRmZmZmRmZmZGZmZmRmZmZmZkZmZmZGZmZkZmZmZGQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile0\"\n    },\n    \"tile3\": {\n        \"data\": \"hwQQABAAAACZmZkZmZmZGZmZmZGZmZmRmZkZmZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZEZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile1\"\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzA0MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA2MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath9\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"level2\": {\n        \"id\": \"level2\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level2\"\n    },\n    \"level3\": {\n        \"id\": \"level3\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level3\"\n    },\n    \"level4\": {\n        \"id\": \"level4\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level4\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}"},{"type":"added","filename":"tilemap.g.ts","value":"// Auto-generated code. Do not edit.\nnamespace myTiles {\n    //% fixedInstance jres blockIdentity=images._tile\n    export const transparency16 = image.ofBuffer(hex``);\n    //% fixedInstance jres blockIdentity=images._tile\n    export const tile1 = image.ofBuffer(hex``);\n    //% fixedInstance jres blockIdentity=images._tile\n    export const tile2 = image.ofBuffer(hex``);\n    //% fixedInstance jres blockIdentity=images._tile\n    export const tile3 = image.ofBuffer(hex``);\n\n    helpers._registerFactory(\"tilemap\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"level1\":\n            case \"level1\":return tiles.createTilemap(hex`1000100002010101010101010101010101010108030909090909090909090909090909070309090909090909090909090909090703090909090909090909090909090907030909090909090909090909090909070309090909090909090909090909090703090909090909090909090909090907030909090909090909090909090909070309090909090909090909090909090703090909090909090909090909090907030909090909090909090909090909070309090909090909090909090909090703090909090909090909090909090907030909090909090909090909090909070309090909090909090909090909090704050505050505050505050505050506`, img`\n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n`, [myTiles.transparency16,sprites.castle.tilePath2,sprites.castle.tilePath1,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath8,sprites.castle.tilePath9,sprites.castle.tilePath6,sprites.castle.tilePath3,sprites.castle.tilePath5], TileScale.Sixteen);\n            case \"level2\":\n            case \"level2\":return tiles.createTilemap(hex`1000100002050505050505050505050505050507030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010804060606060606060606060606060609`, img`\n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n`, [myTiles.transparency16,myTiles.tile1,sprites.castle.tilePath1,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath9], TileScale.Sixteen);\n            case \"level3\":\n            case \"level3\":return tiles.createTilemap(hex`1000100002050505050505050505050505050507030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010804060606060606060606060606060609`, img`\n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n`, [myTiles.transparency16,myTiles.tile1,sprites.castle.tilePath1,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath9], TileScale.Sixteen);\n            case \"level4\":\n            case \"level4\":return tiles.createTilemap(hex`1000100002050505050505050505050505050507030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010803010101010101010101010101010108030101010101010101010101010101080301010101010101010101010101010804060606060606060606060606060609`, img`\n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 . . . . . . . . . . . . . . 2 \n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n`, [myTiles.transparency16,myTiles.tile1,sprites.castle.tilePath1,sprites.castle.tilePath4,sprites.castle.tilePath7,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath9], TileScale.Sixteen);\n        }\n        return null;\n    })\n\n    helpers._registerFactory(\"tile\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"transparency16\":return transparency16;\n            case \"myTile\":\n            case \"tile1\":return tile1;\n            case \"myTile0\":\n            case \"tile2\":return tile2;\n            case \"myTile1\":\n            case \"tile3\":return tile3;\n        }\n        return null;\n    })\n\n}\n// Auto-generated code. Do not edit.\n"}]},{"timestamp":1764442542294,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":4934,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"oe2cnf,.{}!x@wown/al\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"eI`P^249=IiF#_bM9aR)\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"ZpJI:i{B#656a0Q@q2yr\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"cMJ;zln4lzWPpDc5#UC@\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"I|Uy@j(;rRC1G$7V0Le!\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"-431\" y=\"190\"><mutation name=\"Chapter1\" functionid=\"I|Uy@j(;rRC1G$7V0Le!\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":6245,"length1":1748,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":8521,"length1":6475,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"0;;aFF8LVN:2S%x}7?JJ\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"878\" y=\"601\"><mutation name=\"Chapter2\" functionid=\"0;;aFF8LVN:2S%x}7?JJ\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":14741,"length1":1304,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":16573,"length1":21656,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow><block type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"E-|pOV6;zlB]%af.+L8X\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"619\" y=\"2646\"><mutation name=\"Chapter3\" functionid=\"E-|pOV6;zlB]%af.+L8X\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-qH7;G-#*UCPXZ[2?Bx2\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"!am{x]emQ_X!K.6d!7g3\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"384\" y=\"3024\"><mutation name=\"Chapte4\" functionid=\"!am{x]emQ_X!K.6d!7g3\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":4369,"length1":0,"diffs":[[1,"                    TileAnimation.runWaterAnimation(true)\n"]]},{"start1":4892,"length1":66,"diffs":[[1,"                    TileAnimation.animateNearPlayer(mySprite, 1)\n"]]},{"start1":11446,"length1":86,"diffs":[[1,""]]},{"start1":11516,"length1":1102,"diffs":[[1,""]]}]},{"type":"edited","filename":"water.ts","patch":[{"start1":1420,"length1":0,"diffs":[[1,"        // Set speed value based on the selected enum\n"]]},{"start1":3487,"length1":1,"diffs":[[1,""]]},{"start1":6453,"length1":0,"diffs":[[1,"        // Get the current tile location of the player\n"]]},{"start1":6610,"length1":0,"diffs":[[1,"        // Array of nearby tiles (adjacent tiles)\n"]]},{"start1":6688,"length1":283,"diffs":[[1,"            tiles.getTileLocation(playerTile.col - 1, playerTile.row),  // Left\n            tiles.getTileLocation(playerTile.col + 1, playerTile.row),  // Right\n            tiles.getTileLocation(playerTile.col, playerTile.row - 1),  // Up\n            tiles.getTileLocation(playerTile.col, playerTile.row + 1)   // Down\n"]]},{"start1":7018,"length1":0,"diffs":[[1,"        // Apply the splash effect to nearby tiles\n"]]},{"start1":7107,"length1":0,"diffs":[[1,"            // Get the tile at the current location\n"]]},{"start1":7224,"length1":0,"diffs":[[1,"            // Check if the tile matches any of the water frames\n"]]},{"start1":7359,"length1":0,"diffs":[[1,"                // Apply splash effect (change to a different water frame)\n"]]},{"start1":7560,"length1":0,"diffs":[[1,"        // Play splash sound (optional)\n"]]},{"start1":8124,"length1":190,"diffs":[[1,"            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 200, 200, 255, 500, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n"]]},{"start1":8357,"length1":190,"diffs":[[1,"            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 300, 300, 255, 700, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n"]]},{"start1":8562,"length1":191,"diffs":[[1,"            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 400, 400, 255, 1000, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n"]]},{"start1":9512,"length1":0,"diffs":[[1,"        // If debugging is enabled, overlay debug colors on all water tiles\n"]]},{"start1":9662,"length1":0,"diffs":[[1,"                // Create a temporary debug tile to highlight the animated tiles\n"]]},{"start1":9879,"length1":0,"diffs":[[1,"\n                // Set the debug tile on top of the animated water tiles\n"]]},{"start1":10036,"length1":0,"diffs":[[1,"            // If debugging is disabled, clear the debug overlay\n"]]},{"start1":10832,"length1":1242,"diffs":[[1,""]]},{"start1":10838,"length1":919,"diffs":[[1,""]]}]}]},{"timestamp":1764622543796,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":38427,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"qK057OX5bLrtb62f9M=k\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"l=.t}@;14KDLz?$!-olO\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"/jGCWR25,bc]|vE*^aZb\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"G`G]]NE-n%|5/aA:@EX(\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"2qko.TC]?RQK~/%mE:?Z\">Enemy</variable></variables><block type=\"function_definition\" x=\"726\" y=\"-56\"><mutation name=\"Chapter1\" functionid=\"c|=u9fp(V)o$g*TxKINo\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"[_KK`c0aiE-!4awaS;x4\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"c|=u9fp(V)o$g*TxKINo\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1504\" y=\"-56\"><mutation name=\"Chapter2\" functionid=\"[_KK`c0aiE-!4awaS;x4\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"*Lt$DXwRMkd^wG7PcW5K\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2643\" y=\"-56\"><mutation name=\"Chapter3\" functionid=\"*Lt$DXwRMkd^wG7PcW5K\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"KQoG:|Gh48utsA02!i^n\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3837\" y=\"-56\"><mutation name=\"Chapte4\" functionid=\"KQoG:|Gh48utsA02!i^n\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]}]},{"timestamp":1764622585058,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":37807,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"0;~g9s;#~?wR8?k[k?2k\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"$Rv~Q9,i.2nVB[:A_;T:\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"hC0][Ye_K0gW(:x7Z-LN\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Hq=cZ}fX:9?oOG4WK[Oo\">Enemy</variable></variables><block type=\"function_definition\" x=\"726\" y=\"-56\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n            . . . . . . . . . . . . . . . . \n            . . . . . . . . . . . . . . . . \n            . . . . . . . . . b 5 5 b . . . \n            . . . . . . b b b b b b . . . . \n            . . . . . b b 5 5 5 5 5 b . . . \n            . b b b b b 5 5 5 5 5 5 5 b . . \n            . b d 5 b 5 5 5 5 5 5 5 5 b . . \n            . . b 5 5 b 5 d 1 f 5 d 4 f . . \n            . . b d 5 5 b 1 f f 5 4 4 c . . \n            b b d b 5 5 5 d f b 4 4 4 4 b . \n            b d d c d 5 5 b 5 4 4 4 4 4 4 b \n            c d d d c c b 5 5 5 5 5 5 5 b . \n            c b d d d d d 5 5 5 5 5 5 5 b . \n            . c d d d d d d 5 5 5 5 5 d b . \n            . . c b d d d d d 5 5 5 b b . . \n            . . . c c c c c c c c b b . . . \n            `</field></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n                . . . . . . . . . . . . . . . . \n                . . . . . . . . . . . . . . . . \n                . . . b 5 5 b . . . . . . . . . \n                . . . . b b b b b b . . . . . . \n                . . . b 5 5 5 5 5 b b . . . . . \n                . . b 5 5 5 5 5 5 5 b b b b b . \n                . . b 5 5 5 5 5 5 5 5 b 5 d b . \n                . . f 4 d 5 f 1 d 5 b 5 5 b . . \n                . . c 4 4 5 f f 1 b 5 5 d b . . \n                . b 4 4 4 4 b f d 5 5 5 b d b b \n                b 4 4 4 4 4 4 5 b 5 5 d c d d b \n                . b 5 5 5 5 5 5 5 b c c d d d c \n                . b 5 5 5 5 5 5 5 d d d d d b c \n                . b d 5 5 5 5 5 d d d d d d c . \n                . . b b 5 5 5 d d d d d b c . . \n                . . . b b c c c c c c c c . . . \n                `</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"10\" y=\"10\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1504\" y=\"-56\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n                    . . . . . . . . . . . . . . . . \n                    . . . . . . . . . . . . . . . . \n                    . . . . . . . . . b 5 5 b . . . \n                    . . . . . . b b b b b b . . . . \n                    . . . . . b b 5 5 5 5 5 b . . . \n                    . b b b b b 5 5 5 5 5 5 5 b . . \n                    . b d 5 b 5 5 5 5 5 5 5 5 b . . \n                    . . b 5 5 b 5 d 1 f 5 d 4 f . . \n                    . . b d 5 5 b 1 f f 5 4 4 c . . \n                    b b d b 5 5 5 d f b 4 4 4 4 b . \n                    b d d c d 5 5 b 5 4 4 4 4 4 4 b \n                    c d d d c c b 5 5 5 5 5 5 5 b . \n                    c b d d d d d 5 5 5 5 5 5 5 b . \n                    . c d d d d d d 5 5 5 5 5 d b . \n                    . . c b d d d d d 5 5 5 b b . . \n                    . . . c c c c c c c c b b . . . \n                    `</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n                        . . . . . . . . . . . . . . . . \n                        . . . . . . . . . . . . . . . . \n                        . . . b 5 5 b . . . . . . . . . \n                        . . . . b b b b b b . . . . . . \n                        . . . b 5 5 5 5 5 b b . . . . . \n                        . . b 5 5 5 5 5 5 5 b b b b b . \n                        . . b 5 5 5 5 5 5 5 5 b 5 d b . \n                        . . f 4 d 5 f 1 d 5 b 5 5 b . . \n                        . . c 4 4 5 f f 1 b 5 5 d b . . \n                        . b 4 4 4 4 b f d 5 5 5 b d b b \n                        b 4 4 4 4 4 4 5 b 5 5 d c d d b \n                        . b 5 5 5 5 5 5 5 b c c d d d c \n                        . b 5 5 5 5 5 5 5 d d d d d b c \n                        . b d 5 5 5 5 5 d d d d d d c . \n                        . . b b 5 5 5 d d d d d b c . . \n                        . . . b b c c c c c c c c . . . \n                        `</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2643\" y=\"-56\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3837\" y=\"-56\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":426,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1764622588072,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":5714,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"0;~g9s;#~?wR8?k[k?2k\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"$Rv~Q9,i.2nVB[:A_;T:\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"hC0][Ye_K0gW(:x7Z-LN\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Hq=cZ}fX:9?oOG4WK[Oo\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"838\" y=\"20\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":8521,"length1":5691,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1671\" y=\"20\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":16573,"length1":21232,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2865\" y=\"20\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"4129\" y=\"20\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]}]},{"timestamp":1764646774020,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":36,"diffs":[[1,"    \"name\": \"water-extension DEMO - Copy\",\n"]]}]}]},{"timestamp":1764646867365,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":6806,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"0;~g9s;#~?wR8?k[k?2k\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"$Rv~Q9,i.2nVB[:A_;T:\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"hC0][Ye_K0gW(:x7Z-LN\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Hq=cZ}fX:9?oOG4WK[Oo\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"818\" y=\"0\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":6242,"length1":2242,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":8518,"length1":6913,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1651\" y=\"0\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":14737,"length1":1642,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":16569,"length1":26094,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2845\" y=\"0\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"4109\" y=\"0\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":419,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1764390465218,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"water-extension DEMO\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1764441620166,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"6{ARc$}UM;Ho,nJtP/:K\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"$/z]qE?]z|usJqkh4/{H\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"N40*|T97VGDi07jkpD|,\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"|+!$RWJ@9,[Z4G#EsTS$\">Enemy</variable><variable id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</variable><variable id=\"NAn!RUWiDvJ(bnOsI0r7\">item</variable></variables><block type=\"pxt-on-start\" x=\"172\" y=\"154\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"92vyvFg3f3XDxTtz0;+?\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"-222\" y=\"399\"><mutation name=\"Chapter1\" functionid=\"92vyvFg3f3XDxTtz0;+?\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"XM_`On!_P3{l0)l1,1ak\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1087\" y=\"810\"><mutation name=\"Chapter2\" functionid=\"XM_`On!_P3{l0)l1,1ak\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"Fc]Lz=j}/k~*]/6=fVjs\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"828\" y=\"2855\"><mutation name=\"Chapter3\" functionid=\"Fc]Lz=j}/k~*]/6=fVjs\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Jj[d,E8pz=R}?e-#?3zf\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"L+|][osE]cxnL-b/8F=Y\"></mutation></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"593\" y=\"3233\"><mutation name=\"Chapte4\" functionid=\"L+|][osE]cxnL-b/8F=Y\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","water.ts":"//% icon=\"\\uf043\" color=\"#1E90FF\" weight=100\n//% groups=[\"Water Animation\", \"Splash Effects\", \"Settings\"]\nnamespace TileAnimation {\n\n    // -------------------------------\n    // Enums for Water Speed\n    // -------------------------------\n    export enum WaterSpeed {\n        //% block=\"slow\"\n        Slow = 300,\n        //% block=\"medium\"\n        Medium = 200,\n        //% block=\"fast\"\n        Fast = 100\n    }\n\n    // -------------------------------\n    // State variables\n    // -------------------------------\n    let animationEnabled = true\n    let animationRunning = false\n    let animationReversed = false\n    let waterDebugEnabled = false\n    let playerProximityRadius = 0\n    let playerForProximity: Sprite = null\n    let autoSplashPlayer: Sprite = null\n    let waterFrames: Image[] = []\n\n    export type WaterTile = {\n        loc: tiles.Location,\n        speed: number,\n        lastUpdate: number,\n        frame: number\n    }\n\n    let waterTiles: WaterTile[] = []\n\n    // -------------------------------\n    // Set Water Animation Speed\n    // -------------------------------\n    /**\n     * Set the speed of all water tile animations.\n     * @param speed Water animation speed\n     */\n    //% blockId=setWaterAnimationSpeed\n    //% block=\"set water animation speed to %speed\"\n    //% speed.defl=WaterSpeed.Medium\n    //% group=\"Water Animation\"\n    export function setWaterAnimationSpeed(speed: WaterSpeed) {\n        // Set speed value based on the selected enum\n        waterTiles.forEach(wt => wt.speed = speed)\n    }\n\n    // -------------------------------\n    // Initialize Water Animation\n    // -------------------------------\n    /**\n     * Initialize water animation on a specific tile using 3 frame images.\n     * @param baseTile Tile image to animate\n     * @param frame1 First frame of animation\n     * @param frame2 Second frame of animation\n     * @param frame3 Third frame of animation\n     */\n    //% blockId=initWaterAnimation\n    //% block=\"animate tile %baseTile with frames %frame1, %frame2, %frame3\"\n    //% group=\"Water Animation\"\n    export function initWaterAnimation(baseTile: Image, frame1: Image, frame2: Image, frame3: Image) {\n        waterTiles = []\n        waterFrames = [frame1, frame2, frame3]\n\n        tiles.getTilesByType(baseTile).forEach(t => {\n            waterTiles.push({\n                loc: t,\n                speed: Math.randomRange(100, 300),\n                lastUpdate: control.millis() + Math.randomRange(0, 200),\n                frame: Math.randomRange(0, 2)\n            })\n        })\n\n        animationRunning = true\n\n        game.onUpdate(function () {\n            if (!animationEnabled) return\n\n            let now = control.millis()\n\n            for (let wt of waterTiles) {\n                if (now - wt.lastUpdate >= wt.speed) {\n                    wt.frame = animationReversed ? (wt.frame - 1 + 3) % 3 : (wt.frame + 1) % 3\n                    wt.lastUpdate = now\n                    tiles.setTileAt(wt.loc, waterFrames[wt.frame])\n                }\n            }\n        })\n    }\n\n    // -------------------------------\n    // Run Water Animation\n    // -------------------------------\n    /**\n     * Start or stop the water animation.\n     * @param on true to run, false to stop\n     */\n    //% blockId=runWaterAnimation\n    //% block=\"run water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function runWaterAnimation(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n        else if (waterTiles.length > 0) animationRunning = true\n    }\n\n    // -------------------------------\n    // Check Water Animation Status\n    // -------------------------------\n    /**\n     * Returns true if water animation is currently running.\n     */\n    //% blockId=isWaterAnimationRunning\n    //% block=\"water animation running?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationRunning(): boolean {\n        return animationRunning && animationEnabled\n    }\n\n    /**\n     * Returns true if water animations are enabled.\n     */\n    //% blockId=isWaterAnimationEnabled\n    //% block=\"water animation enabled?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationEnabled(): boolean {\n        return animationEnabled;\n    }\n\n    /**\n     * Returns true if the water animation is active near the player.\n     */\n    //% blockId=isAnimateNearPlayerActive\n    //% block=\"is water animation near player active?\"\n    //% group=\"Water Animation\"\n    export function isAnimateNearPlayerActive(): boolean {\n        return playerProximityRadius > 0 && playerForProximity != null;\n    }\n\n    /**\n     * Returns true if there are any active water tiles.\n     */\n    //% blockId=hasWaterTiles\n    //% block=\"are there water tiles?\"\n    //% group=\"Water Animation\"\n    export function hasWaterTiles(): boolean {\n        return waterTiles.length > 0;\n    }\n\n    /**\n     * Stops and clears all water animations.\n     */\n    //% blockId=clearWaterAnimation\n    //% block=\"clear water animation\"\n    //% group=\"Water Animation\"\n    export function clearWaterAnimation() {\n        waterTiles = []\n        animationRunning = false\n    }\n\n    /**\n     * Enable or disable all water animations.\n     * @param on true to enable, false to disable\n     */\n    //% blockId=setWaterEnabled\n    //% block=\"set water animation enabled %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function setWaterEnabled(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n    }\n\n    // -------------------------------\n    // Splash Functions\n    // -------------------------------\n    /**\n     * Trigger water splash effects when the player moves over water tiles.\n     * @param player The player sprite to trigger the effect.\n     */\n    //% blockId=waterCollisionEffect\n    //% block=\"trigger water collision effect at player %player\"\n    //% group=\"Splash Effects\"\n    export function waterCollisionEffect(player: Sprite) {\n        // Get the current tile location of the player\n        let playerTile = tiles.getTileLocation(Math.floor(player.x / 16), Math.floor(player.y / 16))\n\n        // Array of nearby tiles (adjacent tiles)\n        let nearbyTiles = [\n            tiles.getTileLocation(playerTile.col - 1, playerTile.row),  // Left\n            tiles.getTileLocation(playerTile.col + 1, playerTile.row),  // Right\n            tiles.getTileLocation(playerTile.col, playerTile.row - 1),  // Up\n            tiles.getTileLocation(playerTile.col, playerTile.row + 1)   // Down\n        ]\n\n        // Apply the splash effect to nearby tiles\n        nearbyTiles.forEach(tile => {\n            // Get the tile at the current location\n            let tileImage = tiles.getTileAt(tile.col, tile.row)\n\n            // Check if the tile matches any of the water frames\n            if (waterFrames.some(frame => frame.equals(tileImage))) {\n                // Apply splash effect (change to a different water frame)\n                tiles.setTileAt(tile, waterFrames[1]) // Change to the second frame (splash effect)\n            }\n        })\n\n        // Play splash sound (optional)\n        playSplashSound(\"medium\")\n    }\n\n    // -------------------------------\n    // Sound Effects\n    // -------------------------------\n    /**\n     * Play a splash sound based on the splash size.\n     * @param splashSize Size of the splash (small, medium, or large)\n     */\n    //% blockId=playSplashSound\n    //% block=\"play splash sound of size %splashSize\"\n    //% splashSize.defl=\"medium\"\n    //% group=\"Splash Effects\"\n    export function playSplashSound(splashSize: string) {\n        if (splashSize == \"small\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 200, 200, 255, 500, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else if (splashSize == \"medium\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 300, 300, 255, 700, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 400, 400, 255, 1000, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        }\n    }\n\n    // -------------------------------\n    // Settings\n    // -------------------------------\n    /**\n     * Play the water animation frames in reverse order.\n     * @param on true to reverse\n     */\n    //% blockId=reverseWaterAnimation\n    //% block=\"reverse water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function reverseWaterAnimation(on: boolean) {\n        animationReversed = on\n    }\n\n    /**\n     * Overlay debug colors on water tiles.\n     * @param on true to show debug\n     */\n    //% blockId=toggleWaterDebug\n    //% block=\"show water debug tiles %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function toggleWaterDebug(on: boolean) {\n        waterDebugEnabled = on\n    }\n\n    /**\n     * Only animate water tiles near a specific player sprite.\n     * @param player The player sprite to follow\n     * @param radius Radius around the player\n     */\n    //% blockId=animateNearPlayer\n    //% block=\"animate water near player %player with radius %radius\"\n    //% player.shadow=variables_get\n    //% radius.defl=3\n    //% group=\"Settings\"\n    export function animateNearPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0], radius: number = 3) {\n        playerProximityRadius = radius\n        playerForProximity = player\n    }\n}\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"tile1\": {\n        \"data\": \"hwQQABAAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile\"\n    },\n    \"tile2\": {\n        \"data\": \"hwQQABAAAACRmZmZkZmZmRmZmZkZmZmZmZGZmZmRmZmZGZmZmRmZmZmZkZmZmRGZmZkZmZmZmZGRmZmRmZmZGRmZmRmZmZmZmZGZmZGZmZmZkZmZGZmZmZkZmZmZkZmZmZmRmZkZmZmZmRmZmZmRmZmZGZmZmRmZmZmZkZmZmZGZmZkZmZmZGQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile0\"\n    },\n    \"tile3\": {\n        \"data\": \"hwQQABAAAACZmZkZmZmZGZmZmZGZmZmRmZkZmZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZEZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile1\"\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzA0MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA2MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath9\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"level2\": {\n        \"id\": \"level2\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level2\"\n    },\n    \"level3\": {\n        \"id\": \"level3\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level3\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"water-extension DEMO - Copy\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Timers\": \"github:microsoft/arcade-timers#v1.1.0\",\n        \"arcade-story\": \"github:microsoft/arcade-storytelling#v1.0.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"water.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1764473942392,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"qK057OX5bLrtb62f9M=k\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"l=.t}@;14KDLz?$!-olO\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"/jGCWR25,bc]|vE*^aZb\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"G`G]]NE-n%|5/aA:@EX(\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"2qko.TC]?RQK~/%mE:?Z\">Enemy</variable></variables><block type=\"function_definition\" x=\"726\" y=\"-56\"><mutation name=\"Chapter1\" functionid=\"c|=u9fp(V)o$g*TxKINo\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"[_KK`c0aiE-!4awaS;x4\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"c|=u9fp(V)o$g*TxKINo\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1504\" y=\"-56\"><mutation name=\"Chapter2\" functionid=\"[_KK`c0aiE-!4awaS;x4\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"*Lt$DXwRMkd^wG7PcW5K\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2643\" y=\"-56\"><mutation name=\"Chapter3\" functionid=\"*Lt$DXwRMkd^wG7PcW5K\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"KQoG:|Gh48utsA02!i^n\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3837\" y=\"-56\"><mutation name=\"Chapte4\" functionid=\"KQoG:|Gh48utsA02!i^n\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","water.ts":"//% icon=\"\\uf043\" color=\"#1E90FF\" weight=100\n//% groups=[\"Water Animation\", \"Splash Effects\", \"Settings\"]\nnamespace TileAnimation {\n\n    // -------------------------------\n    // Enums for Water Speed\n    // -------------------------------\n    export enum WaterSpeed {\n        //% block=\"slow\"\n        Slow = 300,\n        //% block=\"medium\"\n        Medium = 200,\n        //% block=\"fast\"\n        Fast = 100\n    }\n\n    // -------------------------------\n    // State variables\n    // -------------------------------\n    let animationEnabled = true\n    let animationRunning = false\n    let animationReversed = false\n    let waterDebugEnabled = false\n    let playerProximityRadius = 0\n    let playerForProximity: Sprite = null\n    let autoSplashPlayer: Sprite = null\n    let waterFrames: Image[] = []\n\n    export type WaterTile = {\n        loc: tiles.Location,\n        speed: number,\n        lastUpdate: number,\n        frame: number\n    }\n\n    let waterTiles: WaterTile[] = []\n\n    // -------------------------------\n    // Set Water Animation Speed\n    // -------------------------------\n    /**\n     * Set the speed of all water tile animations.\n     * @param speed Water animation speed\n     */\n    //% blockId=setWaterAnimationSpeed\n    //% block=\"set water animation speed to %speed\"\n    //% speed.defl=WaterSpeed.Medium\n    //% group=\"Water Animation\"\n    export function setWaterAnimationSpeed(speed: WaterSpeed) {\n        waterTiles.forEach(wt => wt.speed = speed)\n    }\n\n    // -------------------------------\n    // Initialize Water Animation\n    // -------------------------------\n    /**\n     * Initialize water animation on a specific tile using 3 frame images.\n     * @param baseTile Tile image to animate\n     * @param frame1 First frame of animation\n     * @param frame2 Second frame of animation\n     * @param frame3 Third frame of animation\n     */\n    //% blockId=initWaterAnimation\n    //% block=\"animate tile %baseTile with frames %frame1, %frame2, %frame3\"\n    //% group=\"Water Animation\"\n    export function initWaterAnimation(baseTile: Image, frame1: Image, frame2: Image, frame3: Image) {\n        waterTiles = []\n        waterFrames = [frame1, frame2, frame3]\n\n        tiles.getTilesByType(baseTile).forEach(t => {\n            waterTiles.push({\n                loc: t,\n                speed: Math.randomRange(100, 300),\n                lastUpdate: control.millis() + Math.randomRange(0, 200),\n                frame: Math.randomRange(0, 2)\n            })\n        })\n\n        animationRunning = true\n\n        game.onUpdate(function () {\n            if (!animationEnabled) return;\n\n            let now = control.millis();\n\n            for (let wt of waterTiles) {\n                if (now - wt.lastUpdate >= wt.speed) {\n                    wt.frame = animationReversed ? (wt.frame - 1 + 3) % 3 : (wt.frame + 1) % 3;\n                    wt.lastUpdate = now;\n\n                    // Set the tile to the current animation frame\n                    tiles.setTileAt(wt.loc, waterFrames[wt.frame]);\n\n                    // If debugging is enabled, display debug info on the tile\n                    if (waterDebugEnabled) {\n                        let debugTile = image.create(16, 16);\n                        debugTile.fill(7);  // Use a different color for debugging (7 = light yellow)\n                        tiles.setTileAt(wt.loc, debugTile);\n                    }\n                }\n            }\n        });\n    }\n\n    // -------------------------------\n    // Run Water Animation\n    // -------------------------------\n    /**\n     * Start or stop the water animation.\n     * @param on true to run, false to stop\n     */\n    //% blockId=runWaterAnimation\n    //% block=\"run water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function runWaterAnimation(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n        else if (waterTiles.length > 0) animationRunning = true\n    }\n\n    // -------------------------------\n    // Check Water Animation Status\n    // -------------------------------\n    /**\n     * Returns true if water animation is currently running.\n     */\n    //% blockId=isWaterAnimationRunning\n    //% block=\"water animation running?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationRunning(): boolean {\n        return animationRunning && animationEnabled\n    }\n\n    /**\n     * Returns true if water animations are enabled.\n     */\n    //% blockId=isWaterAnimationEnabled\n    //% block=\"water animation enabled?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationEnabled(): boolean {\n        return animationEnabled;\n    }\n\n    /**\n     * Returns true if the water animation is active near the player.\n     */\n    //% blockId=isAnimateNearPlayerActive\n    //% block=\"is water animation near player active?\"\n    //% group=\"Water Animation\"\n    export function isAnimateNearPlayerActive(): boolean {\n        return playerProximityRadius > 0 && playerForProximity != null;\n    }\n\n    /**\n     * Returns true if there are any active water tiles.\n     */\n    //% blockId=hasWaterTiles\n    //% block=\"are there water tiles?\"\n    //% group=\"Water Animation\"\n    export function hasWaterTiles(): boolean {\n        return waterTiles.length > 0;\n    }\n\n    /**\n     * Stops and clears all water animations.\n     */\n    //% blockId=clearWaterAnimation\n    //% block=\"clear water animation\"\n    //% group=\"Water Animation\"\n    export function clearWaterAnimation() {\n        waterTiles = []\n        animationRunning = false\n    }\n\n    /**\n     * Enable or disable all water animations.\n     * @param on true to enable, false to disable\n     */\n    //% blockId=setWaterEnabled\n    //% block=\"set water animation enabled %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function setWaterEnabled(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n    }\n\n    // -------------------------------\n    // Splash Functions\n    // -------------------------------\n    /**\n     * Trigger water splash effects when the player moves over water tiles.\n     * @param player The player sprite to trigger the effect.\n     */\n    //% blockId=waterCollisionEffect\n    //% block=\"trigger water collision effect at player %player\"\n    //% group=\"Splash Effects\"\n    export function waterCollisionEffect(player: Sprite) {\n        let playerTile = tiles.getTileLocation(Math.floor(player.x / 16), Math.floor(player.y / 16))\n\n        let nearbyTiles = [\n            tiles.getTileLocation(playerTile.col - 1, playerTile.row),\n            tiles.getTileLocation(playerTile.col + 1, playerTile.row),\n            tiles.getTileLocation(playerTile.col, playerTile.row - 1),\n            tiles.getTileLocation(playerTile.col, playerTile.row + 1)\n        ]\n\n        nearbyTiles.forEach(tile => {\n            let tileImage = tiles.getTileAt(tile.col, tile.row)\n\n            if (waterFrames.some(frame => frame.equals(tileImage))) {\n                tiles.setTileAt(tile, waterFrames[1]) // Change to the second frame (splash effect)\n            }\n        })\n\n        playSplashSound(\"medium\")\n    }\n\n    // -------------------------------\n    // Sound Effects\n    // -------------------------------\n    /**\n     * Play a splash sound based on the splash size.\n     * @param splashSize Size of the splash (small, medium, or large)\n     */\n    //% blockId=playSplashSound\n    //% block=\"play splash sound of size %splashSize\"\n    //% splashSize.defl=\"medium\"\n    //% group=\"Splash Effects\"\n    export function playSplashSound(splashSize: string) {\n        if (splashSize == \"small\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 200, 200, 255, 500, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else if (splashSize == \"medium\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 300, 300, 255, 700, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 400, 400, 255, 1000, 0, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        }\n    }\n\n    // -------------------------------\n    // Settings\n    // -------------------------------\n    /**\n     * Play the water animation frames in reverse order.\n     * @param on true to reverse\n     */\n    //% blockId=reverseWaterAnimation\n    //% block=\"reverse water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function reverseWaterAnimation(on: boolean) {\n        animationReversed = on\n    }\n\n    /**\n     * Overlay debug colors on water tiles.\n     * @param on true to show debug\n     */\n    //% blockId=toggleWaterDebug\n    //% block=\"show water debug tiles %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function toggleWaterDebug(on: boolean) {\n        waterDebugEnabled = on;\n\n        if (waterDebugEnabled) {\n            for (let wt of waterTiles) {\n                let debugTile = image.create(16, 16);\n                debugTile.fill(5);  // Fill with a bright color (5 = light green)\n                tiles.setTileAt(wt.loc, debugTile);\n            }\n        } else {\n            for (let wt of waterTiles) {\n                tiles.setTileAt(wt.loc, waterFrames[wt.frame]);  // Reset to the current animation frame\n            }\n        }\n    }\n\n    /**\n     * Only animate water tiles near a specific player sprite.\n     * @param player The player sprite to follow\n     * @param radius Radius around the player\n     */\n    //% blockId=animateNearPlayer\n    //% block=\"animate water near player %player with radius %radius\"\n    //% player.shadow=variables_get\n    //% radius.defl=3\n    //% group=\"Settings\"\n    export function animateNearPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0], radius: number = 3) {\n        playerProximityRadius = radius\n        playerForProximity = player\n\n        const tileSize = 16;\n\n        let mapWidth = Math.floor(scene.screenWidth() / tileSize);\n        let mapHeight = Math.floor(scene.screenHeight() / tileSize);\n\n        game.onUpdate(function () {\n            let playerTile = tiles.getTileLocation(Math.floor(player.x / tileSize), Math.floor(player.y / tileSize));\n\n            for (let rowOffset = -radius; rowOffset <= radius; rowOffset++) {\n                for (let colOffset = -radius; colOffset <= radius; colOffset++) {\n                    let neighborTile = tiles.getTileLocation(playerTile.col + colOffset, playerTile.row + rowOffset);\n\n                    if (neighborTile.col >= 0 && neighborTile.col < mapWidth && neighborTile.row >= 0 && neighborTile.row < mapHeight) {\n                        let tileImage = tiles.getTileAt(neighborTile.col, neighborTile.row);\n\n                        if (isWaterFrame(tileImage)) {\n                            let currentFrameIndex = getFrameIndex(tileImage);\n                            let nextFrameIndex = (currentFrameIndex + 1) % waterFrames.length;\n\n                            tiles.setTileAt(neighborTile, waterFrames[nextFrameIndex]);\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    // -------------------------------\n    // Helper Functions\n    // -------------------------------\n    function areImagesEqual(img1: Image, img2: Image): boolean {\n        if (img1.width !== img2.width || img1.height !== img2.height) return false;\n\n        for (let x = 0; x < img1.width; x++) {\n            for (let y = 0; y < img1.height; y++) {\n                if (img1.getPixel(x, y) !== img2.getPixel(x, y)) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isWaterFrame(tile: Image): boolean {\n        return waterFrames.some((frame: Image) => areImagesEqual(frame, tile));\n    }\n\n    function getFrameIndex(tile: Image): number {\n        for (let i = 0; i < waterFrames.length; i++) {\n            if (areImagesEqual(waterFrames[i], tile)) {\n                return i;\n            }\n        }\n        return -1; // If no match found\n    }\n\n}\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"tile1\": {\n        \"data\": \"hwQQABAAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile\"\n    },\n    \"tile2\": {\n        \"data\": \"hwQQABAAAACRmZmZkZmZmRmZmZkZmZmZmZGZmZmRmZmZGZmZmRmZmZmZkZmZmRGZmZkZmZmZmZGRmZmRmZmZGRmZmRmZmZmZmZGZmZGZmZmZkZmZGZmZmZkZmZmZkZmZmZmRmZkZmZmZmRmZmZmRmZmZGZmZmRmZmZmZkZmZmZGZmZkZmZmZGQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile0\"\n    },\n    \"tile3\": {\n        \"data\": \"hwQQABAAAACZmZkZmZmZGZmZmZGZmZmRmZkZmZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZEZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile1\"\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzA0MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA2MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath9\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"level2\": {\n        \"id\": \"level2\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level2\"\n    },\n    \"level3\": {\n        \"id\": \"level3\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level3\"\n    },\n    \"level4\": {\n        \"id\": \"level4\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level4\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"water-extension DEMO - Copy\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Timers\": \"github:microsoft/arcade-timers#v1.1.0\",\n        \"arcade-story\": \"github:microsoft/arcade-storytelling#v1.0.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"water.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1764622248809,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"qK057OX5bLrtb62f9M=k\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"l=.t}@;14KDLz?$!-olO\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"/jGCWR25,bc]|vE*^aZb\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"G`G]]NE-n%|5/aA:@EX(\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"2qko.TC]?RQK~/%mE:?Z\">Enemy</variable></variables><block type=\"function_definition\" x=\"726\" y=\"-56\"><mutation name=\"Chapter1\" functionid=\"c|=u9fp(V)o$g*TxKINo\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"[_KK`c0aiE-!4awaS;x4\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"c|=u9fp(V)o$g*TxKINo\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1504\" y=\"-56\"><mutation name=\"Chapter2\" functionid=\"[_KK`c0aiE-!4awaS;x4\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"*Lt$DXwRMkd^wG7PcW5K\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2643\" y=\"-56\"><mutation name=\"Chapter3\" functionid=\"*Lt$DXwRMkd^wG7PcW5K\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"KQoG:|Gh48utsA02!i^n\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3837\" y=\"-56\"><mutation name=\"Chapte4\" functionid=\"KQoG:|Gh48utsA02!i^n\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"qK057OX5bLrtb62f9M=k\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><value name=\"label\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"function Chapter1 () {\n    game.showLongText(\"Chapter 1: Basics\", DialogLayout.Full)\n    story.printCharacterText(\"It's very simple to make water\")\n    story.printCharacterText(\"To make some water you must first create a tilemap\")\n    tiles.setCurrentTilemap(tilemap`level1`)\n    story.printCharacterText(\"Beautiful isn't it?\")\n    story.printCharacterText(\"Next you must create some custom tiles (In this case some water)\")\n    story.printCharacterText(\"You must make at least 2 custom tiles and put the tile you want to animate on the map\")\n    story.printCharacterText(\"You can also animate pre-built tiles or images!\")\n    story.printCharacterText(\"I'm going to put custom tile 1 as my animation tile\")\n    tiles.setCurrentTilemap(tilemap`level2`)\n    timer.after(1000, function () {\n        story.printCharacterText(\"Now to animate your tiles/images, use the animate tile with frames block\")\n        story.printCharacterText(\"Select what tile/image you want to animate in the first box\")\n        story.printCharacterText(\"Then select 3 frames to animate it\")\n        story.printCharacterText(\"That's all you have to do!\")\n        TileAnimation.initWaterAnimation(\n        myTiles.tile1,\n        myTiles.tile1,\n        myTiles.tile2,\n        myTiles.tile3\n        )\n        mySprite = sprites.create(img`\n            . . . . . . . . . . . . . . . . \n            . . . . . . . . . . . . . . . . \n            . . . . . . . . . b 5 5 b . . . \n            . . . . . . b b b b b b . . . . \n            . . . . . b b 5 5 5 5 5 b . . . \n            . b b b b b 5 5 5 5 5 5 5 b . . \n            . b d 5 b 5 5 5 5 5 5 5 5 b . . \n            . . b 5 5 b 5 d 1 f 5 d 4 f . . \n            . . b d 5 5 b 1 f f 5 4 4 c . . \n            b b d b 5 5 5 d f b 4 4 4 4 b . \n            b d d c d 5 5 b 5 4 4 4 4 4 4 b \n            c d d d c c b 5 5 5 5 5 5 5 b . \n            c b d d d d d 5 5 5 5 5 5 5 b . \n            . c d d d d d d 5 5 5 5 5 d b . \n            . . c b d d d d d 5 5 5 b b . . \n            . . . c c c c c c c c b b . . . \n            `, SpriteKind.Player)\n        tiles.placeOnTile(mySprite, tiles.getTileLocation(7, 7))\n        scene.cameraFollowSprite(mySprite)\n        mySprite.vx = 80\n        timer.after(1300, function () {\n            mySprite.vx = -80\n            mySprite.setImage(img`\n                . . . . . . . . . . . . . . . . \n                . . . . . . . . . . . . . . . . \n                . . . b 5 5 b . . . . . . . . . \n                . . . . b b b b b b . . . . . . \n                . . . b 5 5 5 5 5 b b . . . . . \n                . . b 5 5 5 5 5 5 5 b b b b b . \n                . . b 5 5 5 5 5 5 5 5 b 5 d b . \n                . . f 4 d 5 f 1 d 5 b 5 5 b . . \n                . . c 4 4 5 f f 1 b 5 5 d b . . \n                . b 4 4 4 4 b f d 5 5 5 b d b b \n                b 4 4 4 4 4 4 5 b 5 5 d c d d b \n                . b 5 5 5 5 5 5 5 b c c d d d c \n                . b 5 5 5 5 5 5 5 d d d d d b c \n                . b d 5 5 5 5 5 d d d d d d c . \n                . . b b 5 5 5 d d d d d b c . . \n                . . . b b c c c c c c c c . . . \n                `)\n            timer.after(1500, function () {\n                mySprite.vx = 0\n                story.printCharacterText(\"Such a nice little duck... \")\n                Chapter2()\n            })\n        })\n    })\n}\nfunction Chapter3 () {\n    game.showLongText(\"Chapter 3: Debugging and Changing and and Making Water Settings\", DialogLayout.Full)\n    story.printCharacterText(\"Now say something isn't working properly with the animation...\")\n    story.printCharacterText(\"Well that's why we have debug blocks to help you at! \")\n    story.printCharacterText(\"If you need to see what tiles are animating use the show water debug tiles\")\n    TileAnimation.toggleWaterDebug(true)\n    timer.after(500, function () {\n        mySprite.sayText(\"Oh! Now I can see what is really water!\", 2000, false)\n        timer.after(2000, function () {\n            story.printCharacterText(\"You can also reverse the way the animation goes\")\n            TileAnimation.reverseWaterAnimation(true)\n            TileAnimation.toggleWaterDebug(false)\n            timer.after(500, function () {\n                mySprite.sayText(\"Um... It's kinda hard to see when they animate!\", 1500, false)\n                timer.after(1700, function () {\n                    TileAnimation.runWaterAnimation(false)\n                    tiles.setCurrentTilemap(tilemap`level4`)\n                    story.printCharacterText(\"Whatever!\")\n                    story.printCharacterText(\"You can also animate tiles when a sprite is near a certain tile in a range\")\n                    story.printCharacterText(\"Setting the parameter to one is ideal for animating when near a sprite\")\n                    story.printCharacterText(\"Use the animate water when near [sprite]  with radius 0\")\n                    TileAnimation.animateNearPlayer(mySprite, 50)\n                    mySprite.vx = -80\n                    mySprite.sayText(\"It feels like I'm on ice!\", 1500, false)\n                    timer.after(1500, function () {\n                        mySprite.vx = 0\n                        story.printCharacterText(\"Just try to remember the animation doesn't actually go away you would have to use a clear block\")\n                        Chapte4()\n                    })\n                })\n            })\n        })\n    })\n}\nfunction Chapter2 () {\n    game.showLongText(\"Chapter 2: Changing animation flow\", DialogLayout.Full)\n    story.printCharacterText(\"As well as having tile/image animation you can also stop these animations\")\n    story.printCharacterText(\"Using water animation enabled and run water animation blocks you can control when \")\n    story.printCharacterText(\"the animation flows\")\n    TileAnimation.runWaterAnimation(false)\n    timer.after(1000, function () {\n        mySprite.sayText(\"Hey what happened to the water???\", 2000, false)\n        story.printCharacterText(\"Yes and if you want to fully clear the animation use the clear water animation block \")\n        TileAnimation.clearWaterAnimation()\n        story.printCharacterText(\"You can use this to change the animation itself!\")\n        story.printCharacterText(\"Like putting our duck in hot lava\")\n        story.printCharacterText(\"But make sure you turn animation on \")\n        tiles.setCurrentTilemap(tilemap`level3`)\n        TileAnimation.runWaterAnimation(true)\n        TileAnimation.initWaterAnimation(\n        myTiles.tile1,\n        sprites.dungeon.hazardLava0,\n        sprites.dungeon.hazardLava0,\n        sprites.dungeon.hazardLava1\n        )\n        timer.after(1000, function () {\n            timer.after(1000, function () {\n                mySprite.setImage(img`\n                    . . . . . . . . . . . . . . . . \n                    . . . . . . . . . . . . . . . . \n                    . . . . . . . . . b 5 5 b . . . \n                    . . . . . . b b b b b b . . . . \n                    . . . . . b b 5 5 5 5 5 b . . . \n                    . b b b b b 5 5 5 5 5 5 5 b . . \n                    . b d 5 b 5 5 5 5 5 5 5 5 b . . \n                    . . b 5 5 b 5 d 1 f 5 d 4 f . . \n                    . . b d 5 5 b 1 f f 5 4 4 c . . \n                    b b d b 5 5 5 d f b 4 4 4 4 b . \n                    b d d c d 5 5 b 5 4 4 4 4 4 4 b \n                    c d d d c c b 5 5 5 5 5 5 5 b . \n                    c b d d d d d 5 5 5 5 5 5 5 b . \n                    . c d d d d d d 5 5 5 5 5 d b . \n                    . . c b d d d d d 5 5 5 b b . . \n                    . . . c c c c c c c c b b . . . \n                    `)\n                mySprite.vx = 130\n                mySprite.sayText(\"Ow!\", 500, false)\n                timer.after(1000, function () {\n                    mySprite.setImage(img`\n                        . . . . . . . . . . . . . . . . \n                        . . . . . . . . . . . . . . . . \n                        . . . b 5 5 b . . . . . . . . . \n                        . . . . b b b b b b . . . . . . \n                        . . . b 5 5 5 5 5 b b . . . . . \n                        . . b 5 5 5 5 5 5 5 b b b b b . \n                        . . b 5 5 5 5 5 5 5 5 b 5 d b . \n                        . . f 4 d 5 f 1 d 5 b 5 5 b . . \n                        . . c 4 4 5 f f 1 b 5 5 d b . . \n                        . b 4 4 4 4 b f d 5 5 5 b d b b \n                        b 4 4 4 4 4 4 5 b 5 5 d c d d b \n                        . b 5 5 5 5 5 5 5 b c c d d d c \n                        . b 5 5 5 5 5 5 5 d d d d d b c \n                        . b d 5 5 5 5 5 d d d d d d c . \n                        . . b b 5 5 5 d d d d d b c . . \n                        . . . b b c c c c c c c c . . . \n                        `)\n                    mySprite.sayText(\"Hot!\", 500, false)\n                    mySprite.vx = -130\n                    timer.after(1000, function () {\n                        TileAnimation.clearWaterAnimation()\n                        tiles.setCurrentTilemap(tilemap`level3`)\n                        mySprite.vx = 0\n                        mySprite.sayText(\"Phew!\", 2000, false)\n                        timer.after(1000, function () {\n                            story.printCharacterText(\"You can also change the speed of the animation\")\n                            TileAnimation.initWaterAnimation(\n                            myTiles.tile1,\n                            myTiles.tile2,\n                            myTiles.tile1,\n                            myTiles.tile3\n                            )\n                            TileAnimation.setWaterAnimationSpeed(TileAnimation.WaterSpeed.Slow)\n                            timer.after(1000, function () {\n                                story.printCharacterText(\"Like if it's starting to get windy!\")\n                                mySprite.sayText(\"Wait what\", 1000, false)\n                                mySprite.fx = 80\n                                timer.after(2000, function () {\n                                    TileAnimation.setWaterAnimationSpeed(TileAnimation.WaterSpeed.Medium)\n                                    mySprite.sayText(\"Oh no...\", 1000, false)\n                                    mySprite.vx = 70\n                                    timer.after(2000, function () {\n                                        TileAnimation.setWaterAnimationSpeed(TileAnimation.WaterSpeed.Fast)\n                                        mySprite.sayText(\"AAAA not the cold air!!!\", 1500, false)\n                                        mySprite.vx = 120\n                                        timer.after(1000, function () {\n                                            TileAnimation.setWaterAnimationSpeed(TileAnimation.WaterSpeed.Slow)\n                                            mySprite.fx = 0\n                                            mySprite.sayText(\"Okay it's not windy anymore!\", 1000, false)\n                                            timer.after(1000, function () {\n                                                story.printCharacterText(\"That's for sure...\")\n                                                Chapter3()\n                                            })\n                                        })\n                                    })\n                                })\n                            })\n                        })\n                    })\n                })\n            })\n        })\n    })\n}\nfunction Chapte4 () {\n    TileAnimation.setWaterEnabled(false)\n    tiles.setCurrentTilemap(tilemap`level4`)\n    game.showLongText(\"Chapter 4: Splash Effects\", DialogLayout.Full)\n    TileAnimation.setWaterEnabled(true)\n    story.printCharacterText(\"Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block\")\n    story.printCharacterText(\"You must type in small, medium, or large depending on how loud you want the sound of the splash\")\n    TileAnimation.playSplashSound(\"medium\")\n    timer.after(2000, function () {\n        TileAnimation.runWaterAnimation(false)\n        story.printCharacterText(\"You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near\")\n        TileAnimation.waterCollisionEffect(mySprite)\n        mySprite.vx = -80\n        mySprite.sayText(\"WOW!\", 1000, false)\n        timer.after(1200, function () {\n            story.printCharacterText(\"Now lastly the best way to use this extension is to test out to see what happens!\")\n            story.printCharacterText(\"Have fun!\")\n            game.setGameOverMessage(true, \"Enjoy!\")\n            game.setGameOverEffect(true, effects.bubbles)\n            game.gameOver(true)\n        })\n    })\n}\nlet mySprite: Sprite = null\nstory.printCharacterText(\"Welcome folks to the TileAnimation demo!\")\nstory.printCharacterText(\"Let's learn how to use this extension heading over to chapter 1!\")\nChapter1()\n","README.md":" ","assets.json":"","water.ts":"//% icon=\"\\uf043\" color=\"#1E90FF\" weight=100\n//% groups=[\"Water Animation\", \"Splash Effects\", \"Settings\"]\nnamespace TileAnimation {\n\n    // -------------------------------\n    // Enums for Water Speed\n    // -------------------------------\n    export enum WaterSpeed {\n        //% block=\"slow\"\n        Slow = 300,\n        //% block=\"medium\"\n        Medium = 200,\n        //% block=\"fast\"\n        Fast = 100\n    }\n\n    // -------------------------------\n    // State variables\n    // -------------------------------\n    let animationEnabled = true\n    let animationRunning = false\n    let animationReversed = false\n    let waterDebugEnabled = false\n    let playerProximityRadius = 0\n    let playerForProximity: Sprite = null\n    let autoSplashPlayer: Sprite = null\n    let waterFrames: Image[] = []\n\n    export type WaterTile = {\n        loc: tiles.Location,\n        speed: number,\n        lastUpdate: number,\n        frame: number\n    }\n\n    let waterTiles: WaterTile[] = []\n\n    // -------------------------------\n    // Set Water Animation Speed\n    // -------------------------------\n    /**\n     * Set the speed of all water tile animations.\n     * @param speed Water animation speed\n     */\n    //% blockId=setWaterAnimationSpeed\n    //% block=\"set water animation speed to %speed\"\n    //% speed.defl=WaterSpeed.Medium\n    //% group=\"Water Animation\"\n    export function setWaterAnimationSpeed(speed: WaterSpeed) {\n        waterTiles.forEach(wt => wt.speed = speed)\n    }\n\n    // -------------------------------\n    // Initialize Water Animation\n    // -------------------------------\n    /**\n     * Initialize water animation on a specific tile using 3 frame images.\n     * @param baseTile Tile image to animate\n     * @param frame1 First frame of animation\n     * @param frame2 Second frame of animation\n     * @param frame3 Third frame of animation\n     */\n    //% blockId=initWaterAnimation\n    //% block=\"animate tile %baseTile with frames %frame1, %frame2, %frame3\"\n    //% group=\"Water Animation\"\n    export function initWaterAnimation(baseTile: Image, frame1: Image, frame2: Image, frame3: Image) {\n        waterTiles = []\n        waterFrames = [frame1, frame2, frame3]\n\n        tiles.getTilesByType(baseTile).forEach(t => {\n            waterTiles.push({\n                loc: t,\n                speed: Math.randomRange(100, 300),\n                lastUpdate: control.millis() + Math.randomRange(0, 200),\n                frame: Math.randomRange(0, 2)\n            })\n        })\n\n        animationRunning = true\n\n        game.onUpdate(function () {\n            if (!animationEnabled) return;\n\n            let now = control.millis();\n\n            for (let wt of waterTiles) {\n                if (now - wt.lastUpdate >= wt.speed) {\n                    wt.frame = animationReversed ? (wt.frame - 1 + 3) % 3 : (wt.frame + 1) % 3;\n                    wt.lastUpdate = now;\n\n                    // Set the tile to the current animation frame\n                    tiles.setTileAt(wt.loc, waterFrames[wt.frame]);\n\n                    // If debugging is enabled, display debug info on the tile\n                    if (waterDebugEnabled) {\n                        let debugTile = image.create(16, 16);\n                        debugTile.fill(7);  // Use a different color for debugging (7 = light yellow)\n                        tiles.setTileAt(wt.loc, debugTile);\n                    }\n                }\n            }\n        });\n    }\n\n    // -------------------------------\n    // Run Water Animation\n    // -------------------------------\n    /**\n     * Start or stop the water animation.\n     * @param on true to run, false to stop\n     */\n    //% blockId=runWaterAnimation\n    //% block=\"run water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function runWaterAnimation(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n        else if (waterTiles.length > 0) animationRunning = true\n    }\n\n    // -------------------------------\n    // Check Water Animation Status\n    // -------------------------------\n    /**\n     * Returns true if water animation is currently running.\n     */\n    //% blockId=isWaterAnimationRunning\n    //% block=\"water animation running?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationRunning(): boolean {\n        return animationRunning && animationEnabled\n    }\n\n    /**\n     * Returns true if water animations are enabled.\n     */\n    //% blockId=isWaterAnimationEnabled\n    //% block=\"water animation enabled?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationEnabled(): boolean {\n        return animationEnabled;\n    }\n\n    /**\n     * Returns true if the water animation is active near the player.\n     */\n    //% blockId=isAnimateNearPlayerActive\n    //% block=\"is water animation near player active?\"\n    //% group=\"Water Animation\"\n    export function isAnimateNearPlayerActive(): boolean {\n        return playerProximityRadius > 0 && playerForProximity != null;\n    }\n\n    /**\n     * Returns true if there are any active water tiles.\n     */\n    //% blockId=hasWaterTiles\n    //% block=\"are there water tiles?\"\n    //% group=\"Water Animation\"\n    export function hasWaterTiles(): boolean {\n        return waterTiles.length > 0;\n    }\n\n    /**\n     * Stops and clears all water animations.\n     */\n    //% blockId=clearWaterAnimation\n    //% block=\"clear water animation\"\n    //% group=\"Water Animation\"\n    export function clearWaterAnimation() {\n        waterTiles = []\n        animationRunning = false\n    }\n\n    /**\n     * Enable or disable all water animations.\n     * @param on true to enable, false to disable\n     */\n    //% blockId=setWaterEnabled\n    //% block=\"set water animation enabled %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function setWaterEnabled(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n    }\n\n    // -------------------------------\n    // Splash Functions\n    // -------------------------------\n    /**\n     * Trigger water splash effects when the player moves over water tiles.\n     * @param player The player sprite to trigger the effect.\n     */\n    //% blockId=waterCollisionEffect\n    //% block=\"trigger water collision effect at player %player\"\n    //% group=\"Splash Effects\"\n    export function waterCollisionEffect(player: Sprite) {\n        let playerTile = tiles.getTileLocation(Math.floor(player.x / 16), Math.floor(player.y / 16))\n\n        let nearbyTiles = [\n            tiles.getTileLocation(playerTile.col - 1, playerTile.row),\n            tiles.getTileLocation(playerTile.col + 1, playerTile.row),\n            tiles.getTileLocation(playerTile.col, playerTile.row - 1),\n            tiles.getTileLocation(playerTile.col, playerTile.row + 1)\n        ]\n\n        nearbyTiles.forEach(tile => {\n            let tileImage = tiles.getTileAt(tile.col, tile.row)\n\n            if (waterFrames.some(frame => frame.equals(tileImage))) {\n                tiles.setTileAt(tile, waterFrames[1]) // Change to the second frame (splash effect)\n            }\n        })\n\n        playSplashSound(\"medium\")\n    }\n\n    // -------------------------------\n    // Sound Effects\n    // -------------------------------\n    /**\n     * Play a splash sound based on the splash size.\n     * @param splashSize Size of the splash (small, medium, or large)\n     */\n    //% blockId=playSplashSound\n    //% block=\"play splash sound of size %splashSize\"\n    //% splashSize.defl=\"medium\"\n    //% group=\"Splash Effects\"\n    export function playSplashSound(splashSize: string) {\n        if (splashSize == \"small\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 200, 200, 255, 500, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else if (splashSize == \"medium\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 300, 300, 255, 700, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 400, 400, 255, 1000, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        }\n    }\n\n    // -------------------------------\n    // Settings\n    // -------------------------------\n    /**\n     * Play the water animation frames in reverse order.\n     * @param on true to reverse\n     */\n    //% blockId=reverseWaterAnimation\n    //% block=\"reverse water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function reverseWaterAnimation(on: boolean) {\n        animationReversed = on\n    }\n\n    /**\n     * Overlay debug colors on water tiles.\n     * @param on true to show debug\n     */\n    //% blockId=toggleWaterDebug\n    //% block=\"show water debug tiles %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function toggleWaterDebug(on: boolean) {\n        waterDebugEnabled = on;\n\n        if (waterDebugEnabled) {\n            for (let wt of waterTiles) {\n                let debugTile = image.create(16, 16);\n                debugTile.fill(5);  // Fill with a bright color (5 = light green)\n                tiles.setTileAt(wt.loc, debugTile);\n            }\n        } else {\n            for (let wt of waterTiles) {\n                tiles.setTileAt(wt.loc, waterFrames[wt.frame]);  // Reset to the current animation frame\n            }\n        }\n    }\n\n    /**\n     * Only animate water tiles near a specific player sprite.\n     * @param player The player sprite to follow\n     * @param radius Radius around the player\n     */\n    //% blockId=animateNearPlayer\n    //% block=\"animate water near player %player with radius %radius\"\n    //% player.shadow=variables_get\n    //% radius.defl=3\n    //% group=\"Settings\"\n    export function animateNearPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0], radius: number = 3) {\n        playerProximityRadius = radius\n        playerForProximity = player\n\n        const tileSize = 16;\n\n        let mapWidth = Math.floor(scene.screenWidth() / tileSize);\n        let mapHeight = Math.floor(scene.screenHeight() / tileSize);\n\n        game.onUpdate(function () {\n            let playerTile = tiles.getTileLocation(Math.floor(player.x / tileSize), Math.floor(player.y / tileSize));\n\n            for (let rowOffset = -radius; rowOffset <= radius; rowOffset++) {\n                for (let colOffset = -radius; colOffset <= radius; colOffset++) {\n                    let neighborTile = tiles.getTileLocation(playerTile.col + colOffset, playerTile.row + rowOffset);\n\n                    if (neighborTile.col >= 0 && neighborTile.col < mapWidth && neighborTile.row >= 0 && neighborTile.row < mapHeight) {\n                        let tileImage = tiles.getTileAt(neighborTile.col, neighborTile.row);\n\n                        if (isWaterFrame(tileImage)) {\n                            let currentFrameIndex = getFrameIndex(tileImage);\n                            let nextFrameIndex = (currentFrameIndex + 1) % waterFrames.length;\n\n                            tiles.setTileAt(neighborTile, waterFrames[nextFrameIndex]);\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    // -------------------------------\n    // Helper Functions\n    // -------------------------------\n    function areImagesEqual(img1: Image, img2: Image): boolean {\n        if (img1.width !== img2.width || img1.height !== img2.height) return false;\n\n        for (let x = 0; x < img1.width; x++) {\n            for (let y = 0; y < img1.height; y++) {\n                if (img1.getPixel(x, y) !== img2.getPixel(x, y)) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isWaterFrame(tile: Image): boolean {\n        return waterFrames.some((frame: Image) => areImagesEqual(frame, tile));\n    }\n\n    function getFrameIndex(tile: Image): number {\n        for (let i = 0; i < waterFrames.length; i++) {\n            if (areImagesEqual(waterFrames[i], tile)) {\n                return i;\n            }\n        }\n        return -1; // If no match found\n    }\n\n}\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"tile1\": {\n        \"data\": \"hwQQABAAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile\"\n    },\n    \"tile2\": {\n        \"data\": \"hwQQABAAAACRmZmZkZmZmRmZmZkZmZmZmZGZmZmRmZmZGZmZmRmZmZmZkZmZmRGZmZkZmZmZmZGRmZmRmZmZGRmZmRmZmZmZmZGZmZGZmZmZkZmZGZmZmZkZmZmZkZmZmZmRmZkZmZmZmRmZmZmRmZmZGZmZmRmZmZmZkZmZmZGZmZkZmZmZGQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile0\"\n    },\n    \"tile3\": {\n        \"data\": \"hwQQABAAAACZmZkZmZmZGZmZmZGZmZmRmZkZmZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZEZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile1\"\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzA0MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA2MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath9\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"level2\": {\n        \"id\": \"level2\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level2\"\n    },\n    \"level3\": {\n        \"id\": \"level3\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level3\"\n    },\n    \"level4\": {\n        \"id\": \"level4\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level4\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"water-extension DEMO - Copy\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Timers\": \"github:microsoft/arcade-timers#v1.1.0\",\n        \"arcade-story\": \"github:microsoft/arcade-storytelling#v1.0.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"water.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764646774020,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"0;~g9s;#~?wR8?k[k?2k\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"$Rv~Q9,i.2nVB[:A_;T:\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"hC0][Ye_K0gW(:x7Z-LN\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"Hq=cZ}fX:9?oOG4WK[Oo\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Welcome folks to the TileAnimation demo!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Let's learn how to use this extension heading over to chapter 1!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"838\" y=\"20\"><mutation name=\"Chapter1\" functionid=\"Qj^qR$U?*gWAruBXYLJ#\"></mutation><field name=\"function_name\">Chapter1</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 1: Basics</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It's very simple to make water</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">To make some water you must first create a tilemap</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Beautiful isn't it?</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Next you must create some custom tiles (In this case some water)</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must make at least 2 custom tiles and put the tile you want to animate on the map</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate pre-built tiles or images!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">I'm going to put custom tile 1 as my animation tile</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level2`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level2\"}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now to animate your tiles/images, use the animate tile with frames block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Select what tile/image you want to animate in the first box</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Then select 3 frames to animate it</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's all you have to do!</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile1</field><field name=\"frame2\">myTiles.tile2</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></shadow></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1300</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Such a nice little duck... </field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1671\" y=\"20\"><mutation name=\"Chapter2\" functionid=\"viFIaC$%aSz:p4]o}`5*\"></mutation><field name=\"function_name\">Chapter2</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 2: Changing animation flow</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">As well as having tile/image animation you can also stop these animations</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Using water animation enabled and run water animation blocks you can control when </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">the animation flows</field></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hey what happened to the water???</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Yes and if you want to fully clear the animation use the clear water animation block </field></shadow></value><next><block type=\"clearWaterAnimation\"><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can use this to change the animation itself!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like putting our duck in hot lava</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">But make sure you turn animation on </field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">sprites.dungeon.hazardLava0</field><field name=\"frame2\">sprites.dungeon.hazardLava0</field><field name=\"frame3\">sprites.dungeon.hazardLava1</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . b 5 5 b . . . \n. . . . . . b b b b b b . . . . \n. . . . . b b 5 5 5 5 5 b . . . \n. b b b b b 5 5 5 5 5 5 5 b . . \n. b d 5 b 5 5 5 5 5 5 5 5 b . . \n. . b 5 5 b 5 d 1 f 5 d 4 f . . \n. . b d 5 5 b 1 f f 5 4 4 c . . \nb b d b 5 5 5 d f b 4 4 4 4 b . \nb d d c d 5 5 b 5 4 4 4 4 4 4 b \nc d d d c c b 5 5 5 5 5 5 5 b . \nc b d d d d d 5 5 5 5 5 5 5 b . \n. c d d d d d d 5 5 5 5 5 d b . \n. . c b d d d d d 5 5 5 b b . . \n. . . c c c c c c c c b b . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Ow!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesetimage\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . b 5 5 b . . . . . . . . . \n. . . . b b b b b b . . . . . . \n. . . b 5 5 5 5 5 b b . . . . . \n. . b 5 5 5 5 5 5 5 b b b b b . \n. . b 5 5 5 5 5 5 5 5 b 5 d b . \n. . f 4 d 5 f 1 d 5 b 5 5 b . . \n. . c 4 4 5 f f 1 b 5 5 d b . . \n. b 4 4 4 4 b f d 5 5 5 b d b b \nb 4 4 4 4 4 4 5 b 5 5 d c d d b \n. b 5 5 5 5 5 5 5 b c c d d d c \n. b 5 5 5 5 5 5 5 d d d d d b c \n. b d 5 5 5 5 5 d d d d d d c . \n. . b b 5 5 5 d d d d d b c . . \n. . . b b c c c c c c c c . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hot!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-130</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"clearWaterAnimation\"><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level3`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level3\"}}</data></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Phew!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also change the speed of the animation</field></shadow></value><next><block type=\"initWaterAnimation\"><field name=\"baseTile\">myTiles.tile1</field><field name=\"frame1\">myTiles.tile2</field><field name=\"frame2\">myTiles.tile1</field><field name=\"frame3\">myTiles.tile3</field><next><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Like if it's starting to get windy!</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Wait what</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Medium</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh no...</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">70</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Fast</field><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">AAAA not the cold air!!!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"setWaterAnimationSpeed\"><field name=\"speed\">TileAnimation.WaterSpeed.Slow</field><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.fx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Okay it's not windy anymore!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">That's for sure...</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2865\" y=\"20\"><mutation name=\"Chapter3\" functionid=\"Hs)e.iq.A5Jr78tFE`u@\"></mutation><field name=\"function_name\">Chapter3</field><statement name=\"STACK\"><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 3: Debugging and Changing and and Making Water Settings</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now say something isn't working properly with the animation...</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Well that's why we have debug blocks to help you at! </field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">If you need to see what tiles are animating use the show water debug tiles</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Oh! Now I can see what is really water!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also reverse the way the animation goes</field></shadow></value><next><block type=\"reverseWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"toggleWaterDebug\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value><statement name=\"HANDLER\"><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Um... It's kinda hard to see when they animate!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1700</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Whatever!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also animate tiles when a sprite is near a certain tile in a range</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Setting the parameter to one is ideal for animating when near a sprite</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Use the animate water when near [sprite]  with radius 0</field></shadow></value><next><block type=\"animateNearPlayer\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"radius\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">It feels like I'm on ice!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1500</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1500</field></shadow></value><statement name=\"HANDLER\"><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Just try to remember the animation doesn't actually go away you would have to use a clear block</field></shadow></value><next><block type=\"function_call\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"4129\" y=\"20\"><mutation name=\"Chapte4\" functionid=\"Mi?Wx]HbO$eZXIBr5lsp\"></mutation><field name=\"function_name\">Chapte4</field><statement name=\"STACK\"><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level4`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level4\"}}</data></shadow></value><next><block type=\"game_show_long_text\"><field name=\"layout\">DialogLayout.Full</field><value name=\"str\"><shadow type=\"text\"><field name=\"TEXT\">Chapter 4: Splash Effects</field></shadow></value><next><block type=\"setWaterEnabled\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">true</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now in addition to water and tile animation you can make a splash sound using the play splash sound of size block</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You must type in small, medium, or large depending on how loud you want the sound of the splash</field></shadow></value><next><block type=\"playSplashSound\"><value name=\"splashSize\"><shadow type=\"text\"><field name=\"TEXT\">medium</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">2000</field></shadow></value><statement name=\"HANDLER\"><block type=\"runWaterAnimation\"><value name=\"on\"><shadow type=\"toggleYesNo\"><field name=\"yes\">false</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">You can also use the trigger water collision effect at player [player] block to change the tiles/images when the player is near</field></shadow></value><next><block type=\"waterCollisionEffect\"><value name=\"player\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><next><block type=\"Sprite_blockCombine_set\"><field name=\"property\">Sprite.vx@set</field><value name=\"mySprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">-80</field></shadow></value><next><block type=\"spritesaytext\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"2\" _input_init=\"true\"></mutation><value name=\"this\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%l}oeM4f|8?L^aQqiVzR\">mySprite</field></block></value><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WOW!</field></shadow></value><value name=\"timeOnScreen\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><value name=\"animated\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow></value><next><block type=\"timer_after\"><value name=\"time\"><shadow type=\"math_number\"><field name=\"NUM\">1200</field></shadow></value><statement name=\"HANDLER\"><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Now lastly the best way to use this extension is to test out to see what happens!</field></shadow></value><next><block type=\"arcade_story_print_character_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Have fun!</field></shadow></value><next><block type=\"game_setgameovermessage\"><value name=\"message\"><shadow type=\"text\"><field name=\"TEXT\">Enjoy!</field></shadow></value><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"game_setgameovereffect\"><field name=\"effect\">effects.bubbles</field><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value><next><block type=\"gameOver2\"><value name=\"win\"><shadow type=\"toggleWinLose\"><field name=\"win\">true</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","water.ts":"//% icon=\"\\uf043\" color=\"#1E90FF\" weight=100\n//% groups=[\"Water Animation\", \"Splash Effects\", \"Settings\"]\nnamespace TileAnimation {\n\n    // -------------------------------\n    // Enums for Water Speed\n    // -------------------------------\n    export enum WaterSpeed {\n        //% block=\"slow\"\n        Slow = 300,\n        //% block=\"medium\"\n        Medium = 200,\n        //% block=\"fast\"\n        Fast = 100\n    }\n\n    // -------------------------------\n    // State variables\n    // -------------------------------\n    let animationEnabled = true\n    let animationRunning = false\n    let animationReversed = false\n    let waterDebugEnabled = false\n    let playerProximityRadius = 0\n    let playerForProximity: Sprite = null\n    let autoSplashPlayer: Sprite = null\n    let waterFrames: Image[] = []\n\n    export type WaterTile = {\n        loc: tiles.Location,\n        speed: number,\n        lastUpdate: number,\n        frame: number\n    }\n\n    let waterTiles: WaterTile[] = []\n\n    // -------------------------------\n    // Set Water Animation Speed\n    // -------------------------------\n    /**\n     * Set the speed of all water tile animations.\n     * @param speed Water animation speed\n     */\n    //% blockId=setWaterAnimationSpeed\n    //% block=\"set water animation speed to %speed\"\n    //% speed.defl=WaterSpeed.Medium\n    //% group=\"Water Animation\"\n    export function setWaterAnimationSpeed(speed: WaterSpeed) {\n        waterTiles.forEach(wt => wt.speed = speed)\n    }\n\n    // -------------------------------\n    // Initialize Water Animation\n    // -------------------------------\n    /**\n     * Initialize water animation on a specific tile using 3 frame images.\n     * @param baseTile Tile image to animate\n     * @param frame1 First frame of animation\n     * @param frame2 Second frame of animation\n     * @param frame3 Third frame of animation\n     */\n    //% blockId=initWaterAnimation\n    //% block=\"animate tile %baseTile with frames %frame1, %frame2, %frame3\"\n    //% group=\"Water Animation\"\n    export function initWaterAnimation(baseTile: Image, frame1: Image, frame2: Image, frame3: Image) {\n        waterTiles = []\n        waterFrames = [frame1, frame2, frame3]\n\n        tiles.getTilesByType(baseTile).forEach(t => {\n            waterTiles.push({\n                loc: t,\n                speed: Math.randomRange(100, 300),\n                lastUpdate: control.millis() + Math.randomRange(0, 200),\n                frame: Math.randomRange(0, 2)\n            })\n        })\n\n        animationRunning = true\n\n        game.onUpdate(function () {\n            if (!animationEnabled) return;\n\n            let now = control.millis();\n\n            for (let wt of waterTiles) {\n                if (now - wt.lastUpdate >= wt.speed) {\n                    wt.frame = animationReversed ? (wt.frame - 1 + 3) % 3 : (wt.frame + 1) % 3;\n                    wt.lastUpdate = now;\n\n                    // Set the tile to the current animation frame\n                    tiles.setTileAt(wt.loc, waterFrames[wt.frame]);\n\n                    // If debugging is enabled, display debug info on the tile\n                    if (waterDebugEnabled) {\n                        let debugTile = image.create(16, 16);\n                        debugTile.fill(7);  // Use a different color for debugging (7 = light yellow)\n                        tiles.setTileAt(wt.loc, debugTile);\n                    }\n                }\n            }\n        });\n    }\n\n    // -------------------------------\n    // Run Water Animation\n    // -------------------------------\n    /**\n     * Start or stop the water animation.\n     * @param on true to run, false to stop\n     */\n    //% blockId=runWaterAnimation\n    //% block=\"run water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function runWaterAnimation(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n        else if (waterTiles.length > 0) animationRunning = true\n    }\n\n    // -------------------------------\n    // Check Water Animation Status\n    // -------------------------------\n    /**\n     * Returns true if water animation is currently running.\n     */\n    //% blockId=isWaterAnimationRunning\n    //% block=\"water animation running?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationRunning(): boolean {\n        return animationRunning && animationEnabled\n    }\n\n    /**\n     * Returns true if water animations are enabled.\n     */\n    //% blockId=isWaterAnimationEnabled\n    //% block=\"water animation enabled?\"\n    //% group=\"Water Animation\"\n    export function isWaterAnimationEnabled(): boolean {\n        return animationEnabled;\n    }\n\n    /**\n     * Returns true if the water animation is active near the player.\n     */\n    //% blockId=isAnimateNearPlayerActive\n    //% block=\"is water animation near player active?\"\n    //% group=\"Water Animation\"\n    export function isAnimateNearPlayerActive(): boolean {\n        return playerProximityRadius > 0 && playerForProximity != null;\n    }\n\n    /**\n     * Returns true if there are any active water tiles.\n     */\n    //% blockId=hasWaterTiles\n    //% block=\"are there water tiles?\"\n    //% group=\"Water Animation\"\n    export function hasWaterTiles(): boolean {\n        return waterTiles.length > 0;\n    }\n\n    /**\n     * Stops and clears all water animations.\n     */\n    //% blockId=clearWaterAnimation\n    //% block=\"clear water animation\"\n    //% group=\"Water Animation\"\n    export function clearWaterAnimation() {\n        waterTiles = []\n        animationRunning = false\n    }\n\n    /**\n     * Enable or disable all water animations.\n     * @param on true to enable, false to disable\n     */\n    //% blockId=setWaterEnabled\n    //% block=\"set water animation enabled %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Water Animation\"\n    export function setWaterEnabled(on: boolean) {\n        animationEnabled = on\n        if (!on) animationRunning = false\n    }\n\n    // -------------------------------\n    // Splash Functions\n    // -------------------------------\n    /**\n     * Trigger water splash effects when the player moves over water tiles.\n     * @param player The player sprite to trigger the effect.\n     */\n    //% blockId=waterCollisionEffect\n    //% block=\"trigger water collision effect at player %player\"\n    //% group=\"Splash Effects\"\n    export function waterCollisionEffect(player: Sprite) {\n        let playerTile = tiles.getTileLocation(Math.floor(player.x / 16), Math.floor(player.y / 16))\n\n        let nearbyTiles = [\n            tiles.getTileLocation(playerTile.col - 1, playerTile.row),\n            tiles.getTileLocation(playerTile.col + 1, playerTile.row),\n            tiles.getTileLocation(playerTile.col, playerTile.row - 1),\n            tiles.getTileLocation(playerTile.col, playerTile.row + 1)\n        ]\n\n        nearbyTiles.forEach(tile => {\n            let tileImage = tiles.getTileAt(tile.col, tile.row)\n\n            if (waterFrames.some(frame => frame.equals(tileImage))) {\n                tiles.setTileAt(tile, waterFrames[1]) // Change to the second frame (splash effect)\n            }\n        })\n\n        playSplashSound(\"medium\")\n    }\n\n    // -------------------------------\n    // Sound Effects\n    // -------------------------------\n    /**\n     * Play a splash sound based on the splash size.\n     * @param splashSize Size of the splash (small, medium, or large)\n     */\n    //% blockId=playSplashSound\n    //% block=\"play splash sound of size %splashSize\"\n    //% splashSize.defl=\"medium\"\n    //% group=\"Splash Effects\"\n    export function playSplashSound(splashSize: string) {\n        if (splashSize == \"small\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 200, 200, 255, 500, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else if (splashSize == \"medium\") {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 300, 300, 255, 700, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        } else {\n            music.playSoundEffect(music.createSoundEffect(WaveShape.Sine, 400, 400, 255, 1000, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), SoundExpressionPlayMode.UntilDone)\n        }\n    }\n\n    // -------------------------------\n    // Settings\n    // -------------------------------\n    /**\n     * Play the water animation frames in reverse order.\n     * @param on true to reverse\n     */\n    //% blockId=reverseWaterAnimation\n    //% block=\"reverse water animation %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function reverseWaterAnimation(on: boolean) {\n        animationReversed = on\n    }\n\n    /**\n     * Overlay debug colors on water tiles.\n     * @param on true to show debug\n     */\n    //% blockId=toggleWaterDebug\n    //% block=\"show water debug tiles %on\"\n    //% on.shadow=toggleYesNo\n    //% group=\"Settings\"\n    export function toggleWaterDebug(on: boolean) {\n        waterDebugEnabled = on;\n\n        if (waterDebugEnabled) {\n            for (let wt of waterTiles) {\n                let debugTile = image.create(16, 16);\n                debugTile.fill(5);  // Fill with a bright color (5 = light green)\n                tiles.setTileAt(wt.loc, debugTile);\n            }\n        } else {\n            for (let wt of waterTiles) {\n                tiles.setTileAt(wt.loc, waterFrames[wt.frame]);  // Reset to the current animation frame\n            }\n        }\n    }\n\n    /**\n     * Only animate water tiles near a specific player sprite.\n     * @param player The player sprite to follow\n     * @param radius Radius around the player\n     */\n    //% blockId=animateNearPlayer\n    //% block=\"animate water near player %player with radius %radius\"\n    //% player.shadow=variables_get\n    //% radius.defl=3\n    //% group=\"Settings\"\n    export function animateNearPlayer(player: Sprite = sprites.allOfKind(SpriteKind.Player)[0], radius: number = 3) {\n        playerProximityRadius = radius\n        playerForProximity = player\n\n        const tileSize = 16;\n\n        let mapWidth = Math.floor(scene.screenWidth() / tileSize);\n        let mapHeight = Math.floor(scene.screenHeight() / tileSize);\n\n        game.onUpdate(function () {\n            let playerTile = tiles.getTileLocation(Math.floor(player.x / tileSize), Math.floor(player.y / tileSize));\n\n            for (let rowOffset = -radius; rowOffset <= radius; rowOffset++) {\n                for (let colOffset = -radius; colOffset <= radius; colOffset++) {\n                    let neighborTile = tiles.getTileLocation(playerTile.col + colOffset, playerTile.row + rowOffset);\n\n                    if (neighborTile.col >= 0 && neighborTile.col < mapWidth && neighborTile.row >= 0 && neighborTile.row < mapHeight) {\n                        let tileImage = tiles.getTileAt(neighborTile.col, neighborTile.row);\n\n                        if (isWaterFrame(tileImage)) {\n                            let currentFrameIndex = getFrameIndex(tileImage);\n                            let nextFrameIndex = (currentFrameIndex + 1) % waterFrames.length;\n\n                            tiles.setTileAt(neighborTile, waterFrames[nextFrameIndex]);\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    // -------------------------------\n    // Helper Functions\n    // -------------------------------\n    function areImagesEqual(img1: Image, img2: Image): boolean {\n        if (img1.width !== img2.width || img1.height !== img2.height) return false;\n\n        for (let x = 0; x < img1.width; x++) {\n            for (let y = 0; y < img1.height; y++) {\n                if (img1.getPixel(x, y) !== img2.getPixel(x, y)) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isWaterFrame(tile: Image): boolean {\n        return waterFrames.some((frame: Image) => areImagesEqual(frame, tile));\n    }\n\n    function getFrameIndex(tile: Image): number {\n        for (let i = 0; i < waterFrames.length; i++) {\n            if (areImagesEqual(waterFrames[i], tile)) {\n                return i;\n            }\n        }\n        return -1; // If no match found\n    }\n\n}\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"tile1\": {\n        \"data\": \"hwQQABAAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile\"\n    },\n    \"tile2\": {\n        \"data\": \"hwQQABAAAACRmZmZkZmZmRmZmZkZmZmZmZGZmZmRmZmZGZmZmRmZmZmZkZmZmRGZmZkZmZmZmZGRmZmRmZmZGRmZmRmZmZmZmZGZmZGZmZmZkZmZGZmZmZkZmZmZkZmZmZmRmZkZmZmZmRmZmZmRmZmZGZmZmRmZmZmZkZmZmZGZmZkZmZmZGQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile0\"\n    },\n    \"tile3\": {\n        \"data\": \"hwQQABAAAACZmZkZmZmZGZmZmZGZmZmRmZkZmZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZGZmZGZmZmZmRmZmRmZmZEZmZGZmZmRmZmZmRmZmZkZmZGZmZmRmZmZmRmZmZkZmZmQ==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true,\n        \"displayName\": \"myTile1\"\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzAzMDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA3MDMwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDcwMzA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwOTA5MDkwNzA0MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA2MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath9\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"level2\": {\n        \"id\": \"level2\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level2\"\n    },\n    \"level3\": {\n        \"id\": \"level3\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level3\"\n    },\n    \"level4\": {\n        \"id\": \"level4\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAyMDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA1MDUwNTA3MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODAzMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTA4MDMwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDgwMzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwODA0MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjA5MjIyMjIyMjIyMjIyMjIyMjAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMDIwMDAwMDAwMDAwMDAyMDAyMDAwMDAwMDAwMDAwMjAwMjAwMDAwMDAwMDAwMDIwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"myTiles.tile1\",\n            \"sprites.castle.tilePath1\",\n            \"sprites.castle.tilePath4\",\n            \"sprites.castle.tilePath7\",\n            \"sprites.castle.tilePath2\",\n            \"sprites.castle.tilePath8\",\n            \"sprites.castle.tilePath3\",\n            \"sprites.castle.tilePath6\",\n            \"sprites.castle.tilePath9\"\n        ],\n        \"displayName\": \"level4\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"water-extension DEMO - Copy\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Timers\": \"github:microsoft/arcade-timers#v1.1.0\",\n        \"arcade-story\": \"github:microsoft/arcade-storytelling#v1.0.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"water.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[{"id":"24179-56779-68757-11012","timestamp":1764622248809}],"lastSaveTime":1764646896593}